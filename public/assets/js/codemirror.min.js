var CodeMirror=function(){function bf(cy,cx){function ch(d){return d>=0&&d<c5.size}function bP(d){return aT(c5,d)}function bz(f,e){w=!0;var s=e-f.height;for(var o=f;o;o=o.parent){o.height+=s}}function bn(e){var d={line:0,ch:0};bL(d,{line:c5.size-1,ch:bP(c5.size-1).text.length},ad(e),d,d),b5=!0}function S(){var d=[];return c5.iter(0,c5.size,function(e){d.push(e.text)}),d.join("\n")}function H(d){if(dt!=bG.scrollTop||dg!=cG.scrollLeft){dt=bG.scrollTop,dg=cG.scrollLeft,cQ([]),cw.fixedGutter&&(bQ.style.left=cG.scrollLeft+"px"),cw.onScroll&&cw.onScroll(b2)}}function t(dc){function s(e){var d=bH(e,!0);if(d&&!aL(d,Z)){bx||y(),Z=d,b1(cd,d),b5=!1;var dd=bI();if(d.line>=dd.to||d.line<dd.from){X=setTimeout(ds(function(){s(e)}),150)}}}function o(e){clearTimeout(X);var d=bH(e);d&&b1(cd,d),aC(e),dk(),b5=!0,f(),D()}cg(ax(dc,"shiftKey"));for(var ce=az(dc);ce!=cS;ce=ce.parentNode){if(ce.parentNode==cF&&ce!=c9){return}}for(var ce=az(dc);ce!=cS;ce=ce.parentNode){if(ce.parentNode==bA){return cw.onGutterClick&&cw.onGutterClick(b2,aN(bA.childNodes,ce)+cK,dc),aC(dc)}}var cd=bH(dc);switch(ay(dc)){case 3:at&&!bd&&cP(dc);return;case 2:cd&&bm(cd.line,cd.ch,!0),setTimeout(dk,20),aC(dc);return}if(!cd){az(dc)==cG&&aC(dc);return}bx||y();var cc=+(new Date);if(q&&q.time>cc-400&&aL(q.pos,cd)){return aC(dc),setTimeout(dk,20),b6(cd.line)}if(F&&F.time>cc-400&&aL(F.pos,cd)){return q={time:cc,pos:cd},aC(dc),cl(cd)}F={time:cc,pos:cd};var Z=cd,X;if(cw.dragDrop&&ah&&!cw.readOnly&&!aL(bl.from,bl.to)&&!aG(cd,bl.from)&&!aG(bl.to,cd)){an&&(cG.draggable=!0);function T(d){an&&(cG.draggable=!1),cX=!1,D(),A(),Math.abs(dc.clientX-d.clientX)+Math.abs(dc.clientY-d.clientY)<10&&(aC(d),bm(cd.line,cd.ch,!0),dk())}var D=aw(document,"mouseup",ds(T),!0),A=aw(cG,"drop",ds(T),!0);cX=!0,cG.dragDrop&&cG.dragDrop();return}aC(dc),bm(cd.line,cd.ch,!0);var f=aw(document,"mousemove",ds(function(d){clearTimeout(X),aC(d),!ar&&!ay(d)?o(d):s(d)}),!0),D=aw(document,"mouseup",ds(o),!0)}function dv(e){for(var d=az(e);d!=cS;d=d.parentNode){if(d.parentNode==bA){return aC(e)}}var f=bH(e);if(!f){return}q={time:+(new Date),pos:f},aC(e),cl(f)}function di(o){if(cw.onDragEvent&&cw.onDragEvent(b2,aD(o))){return}o.preventDefault();var f=bH(o,!0),Z=o.dataTransfer.files;if(!f||cw.readOnly){return}if(Z&&Z.length&&window.FileReader&&window.File){function X(e,cd){var cc=new FileReader;cc.onload=function(){D[cd]=cc.result,++A==T&&(f=G(f),ds(function(){var d=cV(D.join(""),f,f);b1(f,d)})())},cc.readAsText(e)}var T=Z.length,D=Array(T),A=0;for(var s=0;s<T;++s){X(Z[s],s)}}else{if(cX&&!aG(f,bl.from)&&!aG(bl.to,f)){return}try{var D=o.dataTransfer.getData("Text");D&&df(function(){var d=bl.from,e=bl.to;b1(f,f),cX&&cV("",d,e),cA(D),dk()})}catch(o){}}}function cY(e){var d=bS();e.dataTransfer.setData("Text",d);if(at||am||al){var f=document.createElement("img");f.scr="data:image/gif;base64,R0lGODdhAgACAIAAAAAAAP///ywAAAAAAgACAAACAoRRADs=",e.dataTransfer.setDragImage(f,0,0)}}function cD(f,e){if(typeof f=="string"){f=a7[f];if(!f){return !1}}var s=Q;try{cw.readOnly&&(ck=!0),e&&(Q=null),f(b2)}catch(o){if(o!=au){throw o}return !1}finally{Q=s,ck=!1}return !0}function cm(o){function s(){A=!0}var f=a5(cw.keyMap),X=f.auto;clearTimeout(bF),X&&!a3(o)&&(bF=setTimeout(function(){a5(cw.keyMap)==f&&(cw.keyMap=X.call?X.call(null,b2):X)},50));var T=aJ[ax(o,"keyCode")],D=!1;if(T==null||o.altGraphKey){return !1}ax(o,"altKey")&&(T="Alt-"+T),ax(o,"ctrlKey")&&(T="Ctrl-"+T),ax(o,"metaKey")&&(T="Cmd-"+T);var A=!1;return ax(o,"shiftKey")?D=a4("Shift-"+T,cw.extraKeys,cw.keyMap,function(d){return cD(d,!0)},s)||a4(T,cw.extraKeys,cw.keyMap,function(d){if(typeof d=="string"&&/^go[A-Z]/.test(d)){return cD(d)}},s):D=a4(T,cw.extraKeys,cw.keyMap,cD,s),A&&(D=!1),D&&(aC(o),j(),ar&&(o.oldKeyCode=o.keyCode,o.keyCode=0)),D}function b7(e,d){var f=a4("'"+d+"'",cw.extraKeys,cw.keyMap,function(o){return cD(o,!0)});return f&&(aC(e),j()),f}function bs(f){bx||y(),ar&&f.keyCode==27&&(f.returnValue=!1),bC&&v()&&(bC=!1);if(cw.onKeyEvent&&cw.onKeyEvent(b2,aD(f))){return}var e=ax(f,"keyCode");cg(e==16||ax(f,"shiftKey"));var o=cm(f);al&&(bV=o?e:null,!o&&e==88&&ax(f,bd?"metaKey":"ctrlKey")&&cA(""))}function ab(f){bC&&v();if(cw.onKeyEvent&&cw.onKeyEvent(b2,aD(f))){return}var e=ax(f,"keyCode"),s=ax(f,"charCode");if(al&&e==bV){bV=null,aC(f);return}if((al&&(!f.which||f.which<10)||aj)&&cm(f)){return}var o=String.fromCharCode(s==null?e:s);cw.electricChars&&dp.electricChars&&cw.smartIndent&&!cw.readOnly&&dp.electricChars.indexOf(o)>-1&&setTimeout(ds(function(){bE(bl.to.line,"smart")}),75);if(b7(f,o)){return}V()}function M(d){if(cw.onKeyEvent&&cw.onKeyEvent(b2,aD(d))){return}ax(d,"keyCode")==16&&(Q=null)}function y(){if(cw.readOnly=="nocursor"){return}bx||(cw.onFocus&&cw.onFocus(b2),bx=!0,cG.className.search(/\bCodeMirror-focused\b/)==-1&&(cG.className+=" CodeMirror-focused"),K||b(!0)),bp(),j()}function h(){bx&&(cw.onBlur&&cw.onBlur(b2),bx=!1,bZ&&ds(function(){bZ&&(bZ(),bZ=null)})(),cG.className=cG.className.replace(" CodeMirror-focused","")),clearInterval(i),setTimeout(function(){bx||(Q=null)},150)}function dn(d){return d>0&&d<1?1:d>-1&&d<0?-1:Math.round(d)}function c4(o){var f=0,D=0;if(o.type=="DOMMouseScroll"){var A=-o.detail*8;o.axis==o.HORIZONTAL_AXIS?f=A:o.axis==o.VERTICAL_AXIS&&(D=A)}else{o.wheelDeltaX!==undefined&&o.wheelDeltaY!==undefined?(f=o.wheelDeltaX/3,D=o.wheelDeltaY/3):o.wheelDelta!==undefined&&(D=o.wheelDelta/3)}var s=!1;f=dn(f),D=dn(D);if(f>0&&cG.scrollLeft>0||f<0&&cG.scrollLeft+cG.clientWidth<cG.scrollWidth){cG.scrollLeft-=f,s=!0}if(D>0&&bG.scrollTop>0||D<0&&bG.scrollTop+bG.clientHeight<bG.scrollHeight){bG.scrollTop-=D,s=!0}s&&aA(o)}function bL(o,f,T,D,A){if(ck){return}if(c8){var s=[];c5.iter(o.line,f.line+1,function(d){s.push(d.text)}),c8.addChange(o.line,T.length,s);while(c8.done.length>cw.undoDepth){c8.done.shift()}}C(o,f,T,D,A)}function bv(cd,cc){if(!cd.length){return}var Z=cd.pop(),X=[];for(var T=Z.length-1;T>=0;T-=1){var D=Z[T],A=[],s=D.start+D.added;c5.iter(D.start,s,function(d){A.push(d.text)}),X.push({start:D.start,added:D.old.length,old:A});var o=G({line:D.start+D.old.length-1,ch:ac(A[A.length-1],D.old[D.old.length-1])});C({line:D.start,ch:0},{line:s-1,ch:bP(s-1).text.length},D.old,o,o)}b5=!0,cc.push(X)}function bj(){bv(c8.done,c8.undone)}function P(){bv(c8.undone,c8.done)}function C(dG,dF,dE,dD,dC){function f(d){return d<=Math.min(dF.line,dF.line+cc)?d:d+cc}if(ck){return}var dB=!1,dA=bJ.length;cw.lineWrapping||c5.iter(dG.line,dF.line+1,function(d){if(!d.hidden&&d.text.length==dA){return dB=!0,!0}});if(dG.line!=dF.line||dE.length>1){w=!0}var dz=dF.line-dG.line,dy=bP(dG.line),dx=bP(dF.line);if(dG.ch==0&&dF.ch==0&&dE[dE.length-1]==""){var dw=[],de=null;dG.line?(de=bP(dG.line-1),de.fixMarkEnds(dx)):dx.fixMarkStarts();for(var dd=0,dc=dE.length-1;dd<dc;++dd){dw.push(aX.inheritMarks(dE[dd],de))}dz&&c5.remove(dG.line,dz,c),dw.length&&c5.insert(dG.line,dw)}else{if(dy==dx){if(dE.length==1){dy.replace(dG.ch,dF.ch,dE[0])}else{dx=dy.split(dF.ch,dE[dE.length-1]),dy.replace(dG.ch,null,dE[0]),dy.fixMarkEnds(dx);var dw=[];for(var dd=1,dc=dE.length-1;dd<dc;++dd){dw.push(aX.inheritMarks(dE[dd],dy))}dw.push(dx),c5.insert(dG.line+1,dw)}}else{if(dE.length==1){dy.replace(dG.ch,null,dE[0]),dx.replace(null,dF.ch,""),dy.append(dx),c5.remove(dG.line+1,dz,c)}else{var dw=[];dy.replace(dG.ch,null,dE[0]),dx.replace(null,dF.ch,dE[dE.length-1]),dy.fixMarkEnds(dx);for(var dd=1,dc=dE.length-1;dd<dc;++dd){dw.push(aX.inheritMarks(dE[dd],dy))}dz>1&&c5.remove(dG.line+1,dz-1,c),c5.insert(dG.line+1,dw)}}}if(cw.lineWrapping){var ce=Math.max(5,cG.clientWidth/co()-3);c5.iter(dG.line,dG.line+dE.length,function(e){if(e.hidden){return}var d=Math.ceil(e.text.length/ce)||1;d!=e.height&&bz(e,d)})}else{c5.iter(dG.line,dG.line+dE.length,function(e){var d=e.text;!e.hidden&&d.length>dA&&(bJ=d,dA=d.length,cR=null,dB=!1)}),dB&&(dl=!0)}var cd=[],cc=dE.length-dz-1;for(var dd=0,Z=bN.length;dd<Z;++dd){var X=bN[dd];X<dG.line?cd.push(X):X>dF.line&&cd.push(X+cc)}var T=dG.line+Math.min(dE.length,500);b0(dG.line,T),cd.push(T),bN=cd,bw(100),bD.push({from:dG.line,to:dF.line+1,diff:cc});var D={from:dG,to:dF,text:dE};if(bq){for(var A=bq;A.next;A=A.next){}A.next=D}else{bq=D}bO(dD,dC,f(bl.from.line),f(bl.to.line))}function p(f){var e=dj(),s=Math.floor(c5.height*e+2*b9()),o=cG.clientHeight;bG.style.height=o+"px",cG.clientHeight&&(bt.style.height=s+"px"),f!=null&&(bG.scrollTop=f),c9.style.top=c2*e-bG.scrollTop+"px",bG.style.display=s>o?"block":"none"}function dr(){var e=document.createElement("div"),d=document.createElement("div");e.className="CodeMirror-scrollbar",e.style.cssText="position: absolute; left: -9999px; height: 100px;",d.className="CodeMirror-scrollbar-inner",d.style.height="200px",e.appendChild(d),document.body.appendChild(e);var f=e.offsetWidth<=1;return document.body.removeChild(e),f}function db(){var d=0;bJ="",cR=null,c5.iter(0,c5.size,function(e){var f=e.text;!e.hidden&&f.length>d&&(d=f.length,bJ=f)}),dl=!1}function cV(o,f,D){function A(X){if(aG(X,f)){return X}if(!aG(D,X)){return s}var T=X.line+o.length-(D.line-f.line)-1,e=X.ch;return X.line==D.line&&(e+=o[o.length-1].length-(D.ch-(D.line==f.line?f.ch:0))),{line:T,ch:e}}f=G(f),D?D=G(D):D=f,o=ad(o);var s;return cj(o,f,D,function(d){return s=d,{from:A(bl.from),to:A(bl.to)}}),s}function cA(e,d){cj(ad(e),bl.from,bl.to,function(f){return d=="end"?{from:f,to:f}:d=="start"?{from:bl.from,to:bl.from}:{from:bl.from,to:f}})}function cj(s,o,X,T){var D=s.length==1?s[0].length+o.ch:s[s.length-1].length,A=T({line:o.line+s.length-1,ch:D});bL(o,X,s,A.from,A.to)}function b4(o,f){var D=o.line,A=f.line;if(D==A){return bP(D).text.slice(o.ch,f.ch)}var s=[bP(D).text.slice(o.ch)];return c5.iter(D+1,A,function(d){s.push(d.text)}),s.push(bP(A).text.slice(0,f.ch)),s.join("\n")}function bS(){return b4(bl.from,bl.to)}function bp(){if(bC){return}N.set(cw.pollInterval,function(){bk(),v(),bx&&bp(),E()})}function V(){function d(){bk();var f=v();!f&&!e?(e=!0,N.set(60,d)):(bC=!1,bp()),E()}var e=!1;bC=!0,N.set(20,d)}function v(){if(K||!bx||aP(cI)||cw.readOnly){return !1}var e=cI.value;if(e==J){return !1}Q=null;var d=0,f=Math.min(J.length,e.length);while(d<f&&J[d]==e[d]){++d}return d<J.length?bl.from={line:bl.from.line,ch:bl.from.ch-(J.length-d)}:cB&&aL(bl.from,bl.to)&&(bl.to={line:bl.to.line,ch:Math.min(bP(bl.to.line).text.length,bl.to.ch+(e.length-d))}),cA(e.slice(d),"end"),e.length>1000?cI.value=J="":J=e,!0}function b(d){aL(bl.from,bl.to)?d&&(J=cI.value=""):(J="",cI.value=bS(),bg(cI))}function dk(){cw.readOnly!="nocursor"&&cI.focus()}function c1(){if(!cn.getBoundingClientRect){return}var e=cn.getBoundingClientRect();if(ar&&e.top==e.bottom){return}var d=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(e.top<0||e.bottom>d)&&cJ()}function cJ(){var d=cq();return ca(d.x,d.y,d.x,d.yBot)}function cq(){var e=bB(bl.inverted?bl.from:bl.to),d=cw.lineWrapping?Math.min(e.x,cZ.offsetWidth):e.x;return{x:d,y:e.y,yBot:e.yBot}}function ca(o,f,T,D){var A=bY(o,f,T,D),s=!1;A.scrollLeft!=null&&(cG.scrollLeft=A.scrollLeft,s=!0),A.scrollTop!=null&&(bG.scrollTop=A.scrollTop,s=!0),s&&cw.onScroll&&cw.onScroll(b2)}function bY(dd,dc,ce,cd){var cc=bX(),Z=b9();dc+=Z,cd+=Z,dd+=cc,ce+=cc;var X=cG.clientHeight,T=bG.scrollTop,D={};dc<T?D.scrollTop=Math.max(0,dc):cd>T+X&&(D.scrollTop=cd-X);var A=cG.clientWidth,s=cG.scrollLeft,o=cw.fixedGutter?bQ.clientWidth:0,f=dd<o+cc+10;return dd<s+o||f?(f&&(dd=0),D.scrollLeft=Math.max(0,dd-10-o)):ce>A+s-3&&(D.scrollLeft=ce+10-A),D}function bI(o){var f=dj(),D=(o!=null?o:bG.scrollTop)-b9(),A=Math.max(0,Math.floor(D/f)),s=Math.ceil((D+cG.clientHeight)/f);return{from:aR(c5,A),to:aR(c5,s)}}function cQ(dy,dx,dw){function A(){cR=cG.clientWidth;var e=bW.firstChild,d=!1;return c5.iter(cK,cr,function(dz){if(!dz.hidden){var o=Math.round(e.offsetHeight/X)||1;dz.height!=o&&(bz(dz,o),w=d=!0)}e=e.nextSibling}),d}if(!cG.clientWidth){cK=cr=c2=0;return}var de=bI(dw);if(dy!==!0&&dy.length==0&&de.from>cK&&de.to<cr){p(dw);return}var dd=Math.max(de.from-100,0),dc=Math.min(c5.size,de.to+100);cK<dd&&dd-cK<20&&(dd=cK),cr>dc&&cr-dc<20&&(dc=Math.min(c5.size,cr));var ce=dy===!0?[]:k([{from:cK,to:cr,domStart:0}],dy),cd=0;for(var cc=0;cc<ce.length;++cc){var Z=ce[cc];Z.from<dd&&(Z.domStart+=dd-Z.from,Z.from=dd),Z.to>dc&&(Z.to=dc),Z.from>=Z.to?ce.splice(cc--,1):cd+=Z.to-Z.from}if(cd==dc-dd&&dd==cK&&dc==cr){p(dw);return}ce.sort(function(e,d){return e.domStart-d.domStart});var X=dj(),T=bQ.style.display;bW.style.display="none",c7(dd,dc,ce),bW.style.display=bQ.style.display="";var D=dd!=cK||dc!=cr||cb!=cG.clientHeight+X;D&&(cb=cG.clientHeight+X),cK=dd,cr=dc,c2=aQ(c5,dd);if(bW.childNodes.length!=cr-cK){throw new Error("BAD PATCH! "+JSON.stringify(ce)+" size="+(cr-cK)+" nodes="+bW.childNodes.length)}if(cw.lineWrapping){var s=Math.floor(c5.height*X+2*b9()),f=cG.clientHeight;s>f&&(bG.style.display="block"),A()}else{cR==null&&(cR=cz(bJ)),cR>cG.clientWidth?(cZ.style.width=cR+"px",cF.style.width="",cF.style.width=cG.scrollWidth+"px"):cZ.style.width=cF.style.width=""}return bQ.style.display=T,(D||w)&&cM()&&cw.lineWrapping&&A()&&cM(),p(dw),cu(),!dx&&cw.onUpdate&&cw.onUpdate(b2),!0}function k(ce,cd){for(var cc=0,Z=cd.length||0;cc<Z;++cc){var X=cd[cc],T=[],D=X.diff||0;for(var A=0,s=ce.length;A<s;++A){var o=ce[A];X.to<=o.from&&X.diff?T.push({from:o.from+D,to:o.to+D,domStart:o.domStart}):X.to<=o.from||X.from>=o.to?T.push(o):(X.from>o.from&&T.push({from:o.from,to:X.from,domStart:o.domStart}),X.to<o.to&&T.push({from:X.to+D,to:o.to+D,domStart:o.domStart+(X.to-o.from)}))}ce=T}return ce}function c7(de,dd,dc){if(!dc.length){bW.innerHTML=""}else{function ce(e){var d=e.nextSibling;return e.parentNode.removeChild(e),d}var cd=0,cc=bW.firstChild,Z;for(var X=0;X<dc.length;++X){var T=dc[X];while(T.domStart>cd){cc=ce(cc),cd++}for(var D=0,A=T.to-T.from;D<A;++D){cc=cc.nextSibling,cd++}}while(cc){cc=ce(cc)}}var s=dc.shift(),cc=bW.firstChild,D=de,o=document.createElement("div");c5.iter(de,dd,function(e){s&&s.to==D&&(s=dc.shift());if(!s||s.from>D){if(e.hidden){var d=o.innerHTML="<pre></pre>"}else{var d="<pre"+(e.className?' class="'+e.className+'"':"")+">"+e.getHTML(x)+"</pre>";e.bgClassName&&(d='<div style="position: relative"><pre class="'+e.bgClassName+'" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>'+d+"</div>")}o.innerHTML=d,bW.insertBefore(o.firstChild,cc)}else{cc=cc.nextSibling}++D})}function cM(){if(!cw.gutter&&!cw.lineNumbers){return}var cd=c9.offsetHeight,cc=cG.clientHeight;bQ.style.height=(cd-cc<2?cc:cd)+"px";var Z=[],X=cK,T;c5.iter(cK,Math.max(cr,cK+1),function(e){if(e.hidden){Z.push("<pre></pre>")}else{var d=e.gutterMarker,dc=cw.lineNumbers?X+cw.firstLineNumber:null;d&&d.text?dc=d.text.replace("%N%",dc!=null?dc:""):dc==null&&(dc="\u00a0"),Z.push(d&&d.style?'<pre class="'+d.style+'">':"<pre>",dc);for(var ce=1;ce<e.height;++ce){Z.push("<br/>&#160;")}Z.push("</pre>"),d||(T=X)}++X}),bQ.style.display="none",bA.innerHTML=Z.join("");if(T!=null){var D=bA.childNodes[T-cK],A=String(c5.size).length,s=aE(D),o="";while(s.length+o.length<A){o+="\u00a0"}o&&D.insertBefore(document.createTextNode(o),D.firstChild)}bQ.style.display="";var f=Math.abs((parseInt(cZ.style.marginLeft)||0)-bQ.offsetWidth)>2;return cZ.style.marginLeft=bQ.offsetWidth+"px",w=!1,f}function cu(){var dx=aL(bl.from,bl.to),dw=bB(bl.from,!0),de=dx?dw:bB(bl.to,!0),dd=bl.inverted?dw:de,dc=dj(),ce=bh(cS),cd=bh(bW);cO.style.top=Math.max(0,Math.min(cG.offsetHeight,dd.y+cd.top-ce.top))+"px",cO.style.left=Math.max(0,Math.min(cG.offsetWidth,dd.x+cd.left-ce.left))+"px";if(dx){cn.style.top=dd.y+"px",cn.style.left=(cw.lineWrapping?Math.min(dd.x,cZ.offsetWidth):dd.x)+"px",cn.style.display="",b8.style.display="none"}else{var cc=dw.y==de.y,Z="",X=cZ.clientWidth||cZ.offsetWidth,T=cZ.clientHeight||cZ.offsetHeight;function D(dy,o,dB,dA){var dz=ao?"width: "+(dB?X-dB-dy:X)+"px":"right: "+dB+"px";Z+='<div class="CodeMirror-selected" style="position: absolute; left: '+dy+"px; top: "+o+"px; "+dz+"; height: "+dA+'px"></div>'}if(bl.from.ch&&dw.y>=0){var A=cc?X-de.x:0;D(dw.x,dw.y,A,dc)}var s=Math.max(0,dw.y+(bl.from.ch?dc:0)),f=Math.min(de.y,T)-s;f>0.2*dc&&D(0,s,0,f),(!cc||!bl.from.ch)&&de.y<T-0.5*dc&&D(0,de.y,X-de.x,dc),b8.innerHTML=Z,cn.style.display="none",b8.style.display=""}}function cg(d){d?Q=Q||(bl.inverted?bl.to:bl.from):Q=null}function b1(e,d){var f=Q&&G(Q);f&&(aG(f,e)?e=f:aG(d,f)&&(d=f)),bO(e,d),bT=!0}function bO(o,f,Z,X){cW=null,Z==null&&(Z=bl.from.line,X=bl.to.line);if(aL(bl.from,o)&&aL(bl.to,f)){return}if(aG(f,o)){var T=f;f=o,o=T}if(o.line!=Z){var D=by(o,Z,bl.from.ch);D?o=D:da(o.line,!1)}f.line!=X&&(f=by(f,X,bl.to.ch)),aL(o,f)?bl.inverted=!1:aL(o,bl.to)?bl.inverted=!1:aL(f,bl.from)&&(bl.inverted=!0);if(cw.autoClearEmptyLines&&aL(bl.from,bl.to)){var A=bl.inverted?o:f;if(A.line!=bl.from.line&&bl.from.line<c5.size){var s=bP(bl.from.line);/^\s+$/.test(s.text)&&setTimeout(ds(function(){if(s.parent&&/^\s+$/.test(s.text)){var d=aS(s);cV("",{line:d,ch:0},{line:d,ch:s.text.length})}},10))}}bl.from=o,bl.to=f,W=!0}function by(s,o,X){function T(f){var ce=s.line+f,cd=f==1?c5.size:-1;while(ce!=cd){var cc=bP(ce);if(!cc.hidden){var Z=s.ch;if(A||Z>X||Z>cc.text.length){Z=cc.text.length}return{line:ce,ch:Z}}ce+=f}}var D=bP(s.line),A=s.ch==D.text.length&&s.ch!=X;return D.hidden?s.line>=o?T(1)||T(-1):T(-1)||T(1):s}function bm(f,e,s){var o=G({line:f,ch:e||0});(s?b1:bO)(o,o)}function R(d){return Math.max(0,Math.min(d,c5.size-1))}function G(e){if(e.line<0){return{line:0,ch:0}}if(e.line>=c5.size){return{line:c5.size-1,ch:bP(c5.size-1).text.length}}var d=e.ch,f=bP(e.line).text.length;return d==null||d>f?{line:e.line,ch:f}:d<0?{line:e.line,ch:0}:e}function r(cd,cc){function A(){for(var d=X+cd,ce=cd<0?-1:c5.size;d!=ce;d+=cd){var f=bP(d);if(!f.hidden){return X=d,D=f,!0}}}function s(d){if(T==(cd<0?0:D.text.length)){if(!!d||!A()){return !1}T=cd<0?D.text.length:0}else{T+=cd}return !0}var Z=bl.inverted?bl.from:bl.to,X=Z.line,T=Z.ch,D=bP(X);if(cc=="char"){s()}else{if(cc=="column"){s(!0)}else{if(cc=="word"){var o=!1;for(;;){if(cd<0&&!s()){break}if(aI(D.text.charAt(T))){o=!0}else{if(o){cd<0&&(cd=1,s());break}}if(cd>0&&!s()){break}}}}}return{line:X,ch:T}}function du(e,d){var f=e<0?bl.from:bl.to;if(Q||aL(bl.from,bl.to)){f=r(e,d)}bm(f.line,f.ch,!0)}function dh(e,d){aL(bl.from,bl.to)?e<0?cV("",r(e,d),bl.to):cV("",bl.from,r(e,d)):cV("",bl.from,bl.to),bT=!0}function cC(o,f){var D=0,A=bB(bl.inverted?bl.from:bl.to,!0);cW!=null&&(A.x=cW),f=="page"?D=Math.min(cG.clientHeight,window.innerHeight||document.documentElement.clientHeight):f=="line"&&(D=dj());var s=bo(A.x,A.y+D*o+2);f=="page"&&(bG.scrollTop+=bB(s,!0).y-A.y),bm(s.line,s.ch,!0),cW=A.x}function cl(f){var e=bP(f.line).text,s=f.ch,o=f.ch;while(s>0&&aI(e.charAt(s-1))){--s}while(o<e.length&&aI(e.charAt(o))){++o}b1({line:f.line,ch:s},{line:f.line,ch:o})}function b6(d){b1({line:d,ch:0},G({line:d+1,ch:0}))}function bU(e){if(aL(bl.from,bl.to)){return bE(bl.from.line,e)}var d=bl.to.line-(bl.to.ch?0:1);for(var f=bl.from.line;f<=d;++f){bE(f,e)}}function bE(ce,cd){cd||(cd="add");if(cd=="smart"){if(!dp.indent){cd="prev"}else{var cc=cf(ce)}}var Z=bP(ce),X=Z.indentation(cw.tabSize),T=Z.text.match(/^\s*/)[0],D;cd=="prev"?ce?D=bP(ce-1).indentation(cw.tabSize):D=0:cd=="smart"?D=dp.indent(cc,Z.text.slice(T.length),Z.text):cd=="add"?D=X+cw.indentUnit:cd=="subtract"&&(D=X-cw.indentUnit),D=Math.max(0,D);var A=D-X;if(!A){if(bl.from.line!=ce&&bl.to.line!=ce){return}var s=T}else{var s="",o=0;if(cw.indentWithTabs){for(var f=Math.floor(D/cw.tabSize);f;--f){o+=cw.tabSize,s+="	"}}while(o<D){++o,s+=" "}}cV(s,{line:ce,ch:0},{line:ce,ch:T.length})}function br(){dp=bf.getMode(cw,cw.mode),c5.iter(0,c5.size,function(d){d.stateAfter=null}),bN=[0],bw()}function Y(){var d=cw.gutter||cw.lineNumbers;bQ.style.display=d?"":"none",d?w=!0:bW.parentNode.style.marginLeft=0}function L(e,d){if(cw.lineWrapping){cS.className+=" CodeMirror-wrap";var f=cG.clientWidth/co()-3;c5.iter(0,c5.size,function(s){if(s.hidden){return}var o=Math.ceil(s.text.length/f)||1;o!=1&&bz(s,o)}),cZ.style.width=cF.style.width=""}else{cS.className=cS.className.replace(" CodeMirror-wrap",""),cR=null,bJ="",c5.iter(0,c5.size,function(o){o.height!=1&&!o.hidden&&bz(o,1),o.text.length>bJ.length&&(bJ=o.text)})}bD.push({from:0,to:c5.size})}function x(o){var f=cw.tabSize-o%cw.tabSize,D=l[f];if(D){return D}for(var A='<span class="cm-tab">',s=0;s<f;++s){A+=" "}return l[f]={html:A+"</span>",width:f}}function g(){cG.className=cG.className.replace(/\s*cm-s-\S+/g,"")+cw.theme.replace(/(^|\s)\s*/g," cm-s-")}function dm(){var d=a6[cw.keyMap].style;cS.className=cS.className.replace(/\s*cm-keymap-\S+/g,"")+(d?" cm-keymap-"+d:"")}function c3(){this.set=[]}function bK(s,o,Z){function T(f,d,cd,cc){bP(f).addMark(new aZ(d,cd,cc,X))}s=G(s),o=G(o);var X=new c3;if(!aG(s,o)){return X}if(s.line==o.line){T(s.line,s.ch,o.ch,Z)}else{T(s.line,s.ch,null,Z);for(var D=s.line+1,A=o.line;D<A;++D){T(D,null,null,Z)}T(o.line,null,o.ch,Z)}return bD.push({from:s.line,to:o.line+1}),X}function bu(e){e=G(e);var d=new aY(e.ch);return bP(e.line).addMark(d),d}function bi(s){s=G(s);var o=[],X=bP(s.line).marked;if(!X){return o}for(var T=0,D=X.length;T<D;++T){var A=X[T];(A.from==null||A.from<=s.ch)&&(A.to==null||A.to>=s.ch)&&o.push(A.marker||A)}return o}function O(e,d,f){return typeof e=="number"&&(e=bP(R(e))),e.gutterMarker={text:d,style:f},w=!0,e}function B(d){typeof d=="number"&&(d=bP(R(d))),d.gutterMarker=null,w=!0}function m(f,e){var s=f,o=f;return typeof f=="number"?o=bP(R(f)):s=aS(f),s==null?null:e(o,s)?(bD.push({from:s,to:s+1}),o):null}function dq(e,d,f){return m(e,function(o){if(o.className!=d||o.bgClassName!=f){return o.className=d,o.bgClassName=f,!0}})}function da(e,d){return m(e,function(f,X){if(f.hidden!=d){f.hidden=d;if(!cw.lineWrapping){var T=f.text;d&&T.length==bJ.length?dl=!0:!d&&T.length>bJ.length&&(bJ=T,cR=null,dl=!1)}bz(f,d?0:1);var D=bl.from.line,A=bl.to.line;if(d&&(D==X||A==X)){var s=D==X?by({line:D,ch:0},D,0):bl.from,o=A==X?by({line:A,ch:0},A,0):bl.to;if(!o){return}bO(s,o)}return w=!0}})}function cT(e){if(typeof e=="number"){if(!ch(e)){return null}var d=e;e=bP(e);if(!e){return null}}else{var d=aS(e);if(d==null){return null}}var f=e.gutterMarker;return{line:d,handle:e,text:e.text,markerText:f&&f.text,markerClass:f&&f.style,lineClass:e.className,bgClass:e.bgClassName}}function cz(d){return cE.innerHTML="<pre><span>x</span></pre>",cE.firstChild.firstChild.firstChild.nodeValue=d,cE.firstChild.firstChild.offsetWidth||10}function ci(de,dd){function cd(d){return bR(dc,d).left}if(dd<=0){return 0}var dc=bP(de),ce=dc.text,cc=0,Z=0,X=ce.length,T,D=Math.min(X,Math.ceil(dd/co()));for(;;){var A=cd(D);if(!(A<=dd&&D<X)){T=A,X=D;break}D=Math.min(X,Math.ceil(D*1.2))}if(dd>T){return X}D=Math.floor(X*0.8),A=cd(D),A<dd&&(cc=D,Z=A);for(;;){if(X-cc<=1){return T-dd>dd-Z?cc:X}var s=Math.ceil((cc+X)/2),o=cd(s);o>dd?(X=s,T=o):(cc=s,Z=o)}}function bR(o,f){if(f==0){return{top:0,left:0}}var X=cw.lineWrapping&&f<o.text.length&&af.test(o.text.slice(f-1,f+1));cE.innerHTML="<pre>"+o.getHTML(x,f,b3,X)+"</pre>";var T=document.getElementById(b3),D=T.offsetTop,A=T.offsetLeft;if(ar&&D==0&&A==0){var s=document.createElement("span");s.innerHTML="x",T.parentNode.insertBefore(s,T.nextSibling),D=s.offsetTop}return{top:D,left:A}}function bB(o,f){var T,D=dj(),A=D*(aQ(c5,o.line)-(f?c2:0));if(o.ch==0){T=0}else{var s=bR(bP(o.line),o.ch);T=s.left,cw.lineWrapping&&(A+=Math.max(0,s.top))}return{x:T,y:A,yBot:A+D}}function bo(dC,dB){function ce(o){var e=bR(dw,o);if(dd){var s=Math.round(e.top/dA);return Math.max(0,e.left+(s-dc)*cG.clientWidth)}return e.left}dB<0&&(dB=0);var dA=dj(),dz=co(),dy=c2+Math.floor(dB/dA),dx=aR(c5,dy);if(dx>=c5.size){return{line:c5.size-1,ch:bP(c5.size-1).text.length}}var dw=bP(dx),de=dw.text,dd=cw.lineWrapping,dc=dd?dy-aQ(c5,dx):0;if(dC<=0&&dc==0){return{line:dx,ch:0}}var cd=0,cc=0,Z=de.length,X,T=Math.min(Z,Math.ceil((dC+dc*cG.clientWidth*0.9)/dz));for(;;){var D=ce(T);if(!(D<=dC&&T<Z)){X=D,Z=T;break}T=Math.min(Z,Math.ceil(T*1.2))}if(dC>X){return{line:dx,ch:Z}}T=Math.floor(Z*0.8),D=ce(T),D<dC&&(cd=T,cc=D);for(;;){if(Z-cd<=1){return{line:dx,ch:X-dC>dC-cc?cd:Z}}var A=Math.ceil((cd+Z)/2),f=ce(A);f>dC?(Z=A,X=f):(cd=A,cc=f)}}function U(e){var d=bB(e,!0),f=bh(cZ);return{x:f.left+d.x,y:f.top+d.y,yBot:f.top+d.yBot}}function dj(){if(a==null){a="<pre>";for(var e=0;e<49;++e){a+="x<br/>"}a+="x</pre>"}var d=bW.clientHeight;return d==u?I:(u=d,cE.innerHTML=a,I=cE.firstChild.offsetHeight/50||1,cE.innerHTML="",I)}function co(){return cG.clientWidth==cH?c0:(cH=cG.clientWidth,c0=cz("x"))}function b9(){return cZ.offsetTop}function bX(){return cZ.offsetLeft}function bH(s,o){var X=bh(cG,!0),T,D;try{T=s.clientX,D=s.clientY}catch(s){return null}if(!o&&(T-X.left>cG.clientWidth||D-X.top>cG.clientHeight)){return null}var A=bh(cZ,!0);return bo(T-A.left,D-A.top)}function cP(o){function A(){var d=ad(cI.value).join("\n");d!=D&&!cw.readOnly&&ds(cA)(d,"end"),cO.style.position="relative",cI.style.cssText=T,ap&&(bG.scrollTop=X),K=!1,b(!0),bp()}var f=bH(o),X=bG.scrollTop;if(!f||al){return}(aL(bl.from,bl.to)||aG(f,bl.from)||!aG(f,bl.to))&&ds(bm)(f.line,f.ch);var T=cI.style.cssText;cO.style.position="absolute",cI.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(o.clientY-5)+"px; left: "+(o.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",K=!0;var D=cI.value=bS();dk(),bg(cI);if(at){aA(o);var s=aw(window,"mouseup",function(){s(),setTimeout(A,20)},!0)}else{setTimeout(A,50)}}function j(){clearInterval(i);var d=!0;cn.style.visibility="",i=setInterval(function(){cn.style.visibility=(d=!d)?"":"hidden"},650)}function cL(dF){function cc(dP,dO,dN){if(!dP.text){return}var dM=dP.styles,dL=dz?0:dP.text.length-1,dK;for(var dJ=dz?0:dM.length-2,dI=dz?dM.length:-2;dJ!=dI;dJ+=2*dy){var dH=dM[dJ];if(dM[dJ+1]!=null&&dM[dJ+1]!=dc){dL+=dy*dH.length;continue}for(var dG=dz?0:dH.length-1,s=dz?dH.length:-1;dG!=s;dG+=dy,dL+=dy){if(dL>=dO&&dL<dN&&cd.test(dK=dH.charAt(dG))){var o=c6[dK];if(o.charAt(1)==">"==dz){ce.push(dK)}else{if(ce.pop()!=o.charAt(0)){return{pos:dL,match:!1}}if(!ce.length){return{pos:dL,match:!0}}}}}}}var dE=bl.inverted?bl.from:bl.to,dD=bP(dE.line),dC=dE.ch-1,dB=dC>=0&&c6[dD.text.charAt(dC)]||c6[dD.text.charAt(++dC)];if(!dB){return}var dA=dB.charAt(0),dz=dB.charAt(1)==">",dy=dz?1:-1,dx=dD.styles;for(var dw=dC+1,de=0,dd=dx.length;de<dd;de+=2){if((dw-=dx[de].length)<=0){var dc=dx[de+1];break}}var ce=[dD.text.charAt(dC)],cd=/[(){}[\]]/;for(var de=dE.line,dd=dz?Math.min(de+100,c5.size):Math.max(-1,de-100);de!=dd;de+=dy){var dD=bP(de),Z=de==dE.line,X=cc(dD,Z&&dz?dC+1:0,Z&&!dz?dC:dD.text.length);if(X){break}}X||(X={pos:null,match:!1});var dc=X.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket",T=bK({line:dE.line,ch:dC},{line:dE.line,ch:dC+1},dc),D=X.pos!=null&&bK({line:de,ch:X.pos},{line:de,ch:X.pos+1},dc),A=ds(function(){T.clear(),D&&D.clear()});dF?setTimeout(A,800):bZ=A}function ct(o){var f,X;for(var T=o,D=o-40;T>D;--T){if(T==0){return 0}var A=bP(T-1);if(A.stateAfter){return T}var s=A.indentation(cw.tabSize);if(X==null||f>s){X=T-1,f=s}}return X}function cf(e){var d=ct(e),f=d&&bP(d-1).stateAfter;return f?f=a2(dp,f):f=a1(dp),c5.iter(d,e,function(o){o.highlight(dp,f,cw.tabSize),o.stateAfter=a2(dp,f)}),d<e&&bD.push({from:d,to:e}),e<c5.size&&!bP(e).stateAfter&&bN.push(e),f}function b0(e,d){var f=cf(e);c5.iter(e,d,function(o){o.highlight(dp,f,cw.tabSize),o.stateAfter=a2(dp,f)})}function bM(){var cd=+(new Date)+cw.workTime,cc=bN.length;while(bN.length){if(!bP(cK).stateAfter){var Z=cK}else{var Z=bN.pop()}if(Z>=c5.size){continue}var X=ct(Z),T=X&&bP(X-1).stateAfter;T?T=a2(dp,T):T=a1(dp);var D=0,A=dp.compareStates,s=!1,o=X,f=!1;c5.iter(o,c5.size,function(e){var dd=e.stateAfter;if(+(new Date)>cd){return bN.push(o),bw(cw.workDelay),s&&bD.push({from:Z,to:o+1}),f=!0}var ce=e.highlight(dp,T,cw.tabSize);ce&&(s=!0),e.stateAfter=a2(dp,T);var de=null;if(A){var dc=dd&&A(dd,T);dc!=au&&(de=!!dc)}de==null&&(ce!==!1||!dd?D=0:++D>3&&(!dp.indent||dp.indent(dd,"")==dp.indent(T,""))&&(de=!0));if(de){return !0}++o});if(f){return}s&&bD.push({from:Z,to:o+1})}cc&&cw.onHighlightComplete&&cw.onHighlightComplete(b2)}function bw(d){if(!bN.length){return}z.set(d,ds(bM))}function bk(){b5=bT=bq=null,bD=[],W=!1,c=[]}function E(){var o,f;dl&&db();if(W){var T=cq();o=bY(T.x,T.y,T.x,T.yBot)}bD.length?f=cQ(bD,!0,o?o.scrollTop:null):(W&&cu(),w&&cM()),o&&cJ(),W&&(c1(),j()),bx&&!K&&(b5===!0||b5!==!1&&W)&&b(bT),W&&cw.matchBrackets&&setTimeout(ds(function(){bZ&&(bZ(),bZ=null),aL(bl.from,bl.to)&&cL(!1)}),20);var D=bq,A=c;W&&cw.onCursorActivity&&cw.onCursorActivity(b2),D&&cw.onChange&&b2&&cw.onChange(b2,D);for(var s=0;s<A.length;++s){A[s](b2)}f&&cw.onUpdate&&cw.onUpdate(b2)}function ds(d){return function(){n++||bk();try{var e=d.apply(this,arguments)}finally{--n||E()}return e}}function df(d){c8.startCompound();try{return d()}finally{c8.endCompound()}}var cw={},cs=bf.defaults;for(var cp in cs){cs.hasOwnProperty(cp)&&(cw[cp]=(cx&&cx.hasOwnProperty(cp)?cx:cs)[cp])}var cS=document.createElement("div");cS.className="CodeMirror"+(cw.lineWrapping?" CodeMirror-wrap":""),cS.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scrollbar"><div class="CodeMirror-scrollbar-inner"></div></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;"></div><pre class="CodeMirror-cursor">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>',cy.appendChild?cy.appendChild(cS):cy(cS);var cO=cS.firstChild,cI=cO.firstChild,cG=cS.lastChild,cF=cG.firstChild,c9=cF.firstChild,bQ=c9.firstChild,bA=bQ.firstChild,cZ=bQ.nextSibling.firstChild,cE=cZ.firstChild,cn=cE.nextSibling,b8=cn.nextSibling,bW=b8.nextSibling,bG=cO.nextSibling,bt=bG.firstChild;g(),dm(),be&&(cI.style.width="0px"),an||(cG.draggable=!0),cZ.style.outline="none",cw.tabindex!=null&&(cI.tabIndex=cw.tabindex),cw.autofocus&&dk(),!cw.gutter&&!cw.lineNumbers&&(bQ.style.display="none"),aj&&(cO.style.height="1px",cO.style.position="absolute"),ai?bG.className+=dr()?" cm-sb-overlap":" cm-sb-nonoverlap":aq&&(bG.className+=" cm-sb-ie7");try{cz("x")}catch(bb){throw bb.message.match(/runtime/i)&&(bb=new Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)")),bb}var N=new av,z=new av,i,dp,c5=new aU([new aV([new aX("")])]),bN,bx;br();var bl={from:{line:0,ch:0},to:{line:0,ch:0},inverted:!1},Q,F,q,dt=0,dg=0,cX,cB=!1,ck=!1,b5,bT,bD,bq,W,K,w,c,dl,c2=0,cK=0,cr=0,cb=0,bZ,bJ="",cR,l={};ds(function(){bn(cw.value||""),b5=!1})();var c8=new aO;aw(cG,"mousedown",ds(t)),aw(cG,"dblclick",ds(dv)),aw(cZ,"selectstart",aC),at||aw(cG,"contextmenu",cP),aw(cG,"scroll",H),aw(bG,"scroll",H),aw(bG,"mousedown",function(){setTimeout(dk,0)}),aw(cG,"mousewheel",c4),aw(cG,"DOMMouseScroll",c4),aw(window,"resize",function(){cQ(!0)}),aw(cI,"keyup",ds(M)),aw(cI,"input",V),aw(cI,"keydown",ds(bs)),aw(cI,"keypress",ds(ab)),aw(cI,"focus",y),aw(cI,"blur",h);if(cw.dragDrop){aw(cG,"dragstart",cY);function cN(d){if(cw.onDragEvent&&cw.onDragEvent(b2,aD(d))){return}aA(d)}aw(cG,"dragenter",cN),aw(cG,"dragover",cN),aw(cG,"drop",ds(di))}aw(cG,"paste",function(){dk(),V()}),aw(cI,"paste",V),aw(cI,"cut",ds(function(){cw.readOnly||cA("")})),aj&&aw(cF,"mouseup",function(){document.activeElement==cI&&cI.blur(),dk()});var cv;try{cv=document.activeElement==cI}catch(bb){}cv||cw.autofocus?setTimeout(y,20):h();var b2=cS.CodeMirror={getValue:S,setValue:ds(bn),getSelection:bS,replaceSelection:ds(cA),focus:function(){window.focus(),dk(),y(),V()},setOption:function(e,d){var f=cw[e];cw[e]=d,e=="mode"||e=="indentUnit"?br():e=="readOnly"&&d=="nocursor"?(h(),cI.blur()):e=="readOnly"&&!d?b(!0):e=="theme"?g():e=="lineWrapping"&&f!=d?ds(L)():e=="tabSize"?cQ(!0):e=="keyMap"&&dm();if(e=="lineNumbers"||e=="gutter"||e=="firstLineNumber"||e=="theme"){Y(),cQ(!0)}},getOption:function(d){return cw[d]},undo:ds(bj),redo:ds(P),indentLine:ds(function(e,d){typeof d!="string"&&(d==null?d=cw.smartIndent?"smart":"prev":d=d?"add":"subtract"),ch(e)&&bE(e,d)}),indentSelection:ds(bU),historySize:function(){return{undo:c8.done.length,redo:c8.undone.length}},clearHistory:function(){c8=new aO},matchBrackets:ds(function(){cL(!0)}),getTokenAt:ds(function(d){return d=G(d),bP(d.line).getTokenAt(dp,cf(d.line),d.ch)}),getStateAfter:function(d){return d=R(d==null?c5.size-1:d),cf(d+1)},cursorCoords:function(e,d){return e==null&&(e=bl.inverted),this.charCoords(e?bl.from:bl.to,d)},charCoords:function(e,d){return e=G(e),d=="local"?bB(e,!1):d=="div"?bB(e,!0):U(e)},coordsChar:function(e){var d=bh(cZ);return bo(e.x-d.left,e.y-d.top)},markText:ds(bK),setBookmark:bu,findMarksAt:bi,setMarker:ds(O),clearMarker:ds(B),setLineClass:ds(dq),hideLine:ds(function(d){return da(d,!0)}),showLine:ds(function(d){return da(d,!1)}),onDeleteLine:function(e,d){if(typeof e=="number"){if(!ch(e)){return null}e=bP(e)}return(e.handlers||(e.handlers=[])).push(d),e},lineInfo:cT,addWidget:function(cd,cc,Z,X,T){cd=bB(G(cd));var D=cd.yBot,A=cd.x;cc.style.position="absolute",cF.appendChild(cc);if(X=="over"){D=cd.y}else{if(X=="near"){var s=Math.max(cG.offsetHeight,c5.height*dj()),o=Math.max(cF.clientWidth,cZ.clientWidth)-bX();cd.yBot+cc.offsetHeight>s&&cd.y>cc.offsetHeight&&(D=cd.y-cc.offsetHeight),A+cc.offsetWidth>o&&(A=o-cc.offsetWidth)}}cc.style.top=D+b9()+"px",cc.style.left=cc.style.right="",T=="right"?(A=cF.clientWidth-cc.offsetWidth,cc.style.right="0px"):(T=="left"?A=0:T=="middle"&&(A=(cF.clientWidth-cc.offsetWidth)/2),cc.style.left=A+bX()+"px"),Z&&ca(A,D,A+cc.offsetWidth,D+cc.offsetHeight)},lineCount:function(){return c5.size},clipPos:G,getCursor:function(d){return d==null&&(d=bl.inverted),aa(d?bl.from:bl.to)},somethingSelected:function(){return !aL(bl.from,bl.to)},setCursor:ds(function(e,d,f){d==null&&typeof e.line=="number"?bm(e.line,e.ch,f):bm(e,d,f)}),setSelection:ds(function(e,d,f){(f?b1:bO)(G(e),G(d||e))}),getLine:function(d){if(ch(d)){return bP(d).text}},getLineHandle:function(d){if(ch(d)){return bP(d)}},setLine:ds(function(e,d){ch(e)&&cV(d,{line:e,ch:0},{line:e,ch:bP(e).text.length})}),removeLine:ds(function(d){ch(d)&&cV("",{line:d,ch:0},G({line:d+1,ch:0}))}),replaceRange:ds(cV),getRange:function(e,d){return b4(G(e),G(d))},triggerOnKeyDown:ds(bs),execCommand:function(d){return a7[d](b2)},moveH:ds(du),deleteH:ds(dh),moveV:ds(cC),toggleOverwrite:function(){cB?(cB=!1,cn.className=cn.className.replace(" CodeMirror-overwrite","")):(cB=!0,cn.className+=" CodeMirror-overwrite")},posFromIndex:function(e){var d=0,f;return c5.iter(0,c5.size,function(s){var o=s.text.length+1;if(o>e){return f=e,!0}e-=o,++d}),G({line:d,ch:f})},indexFromPos:function(e){if(e.line<0||e.ch<0){return 0}var d=e.ch;return c5.iter(0,e.line,function(f){d+=f.text.length+1}),d},scrollTo:function(e,d){e!=null&&(cG.scrollLeft=e),d!=null&&(bG.scrollTop=d),cQ([])},operation:function(d){return ds(d)()},compoundChange:function(d){return df(d)},refresh:function(){cQ(!0),bG.scrollHeight>dt&&(bG.scrollTop=dt)},getInputField:function(){return cI},getWrapperElement:function(){return cS},getScrollerElement:function(){return cG},getGutterElement:function(){return bQ}},bV=null,bF,bC=!1,J="",cW=null;c3.prototype.clear=ds(function(){var s=Infinity,o=-Infinity;for(var cc=0,Z=this.set.length;cc<Z;++cc){var X=this.set[cc],T=X.marked;if(!T||!X.parent){continue}var D=aS(X);s=Math.min(s,D),o=Math.max(o,D);for(var A=0;A<T.length;++A){T[A].marker==this&&T.splice(A--,1)}}s!=Infinity&&bD.push({from:s,to:o+1})}),c3.prototype.find=function(){var cd,cc;for(var Z=0,X=this.set.length;Z<X;++Z){var T=this.set[Z],D=T.marked;for(var A=0;A<D.length;++A){var s=D[A];if(s.marker==this){if(s.from!=null||s.to!=null){var o=aS(T);o!=null&&(s.from!=null&&(cd={line:o,ch:s.from}),s.to!=null&&(cc={line:o,ch:s.to}))}}}}return{from:cd,to:cc}};var b3="CodeMirror-temp-"+Math.floor(Math.random()*16777215).toString(16),I,u,a,c0,cH=0,c6={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},n=0;for(var cU in a8){a8.propertyIsEnumerable(cU)&&!b2.propertyIsEnumerable(cU)&&(b2[cU]=a8[cU])}return b2}function a5(b){return typeof b=="string"?a6[b]:b}function a4(h,g,l,k,j){function i(a){a=a5(a);var m=a[h];if(m!=null&&k(m)){return !0}if(a.nofallthrough){return j&&j(),!0}var f=a.fallthrough;if(f==null){return !1}if(Object.prototype.toString.call(f)!="[object Array]"){return i(f)}for(var e=0,d=f.length;e<d;++e){if(i(f[e])){return !0}}return !1}return g&&i(g)?!0:i(l)}function a3(d){var c=aJ[ax(d,"keyCode")];return c=="Ctrl"||c=="Alt"||c=="Shift"||c=="Mod"}function a2(g,f){if(f===!0){return f}if(g.copyState){return g.copyState(f)}var j={};for(var i in f){var h=f[i];h instanceof Array&&(h=h.concat([])),j[i]=h}return j}function a1(e,d,f){return e.startState?e.startState(d,f):!0}function a0(d,c){this.pos=this.start=0,this.string=d,this.tabSize=c||8}function aZ(f,e,h,g){this.from=f,this.to=e,this.style=h,this.marker=g}function aY(b){this.from=b,this.to=b,this.line=null}function aX(d,c){this.styles=c||[d,null],this.text=d,this.height=1,this.marked=this.gutterMarker=this.className=this.bgClassName=this.handlers=null,this.stateAfter=this.parent=this.hidden=null}function aW(r,q,p,o){for(var n=0,m=0,l=0;m<q;n+=2){var k=p[n],j=m+k.length;l==0?(j>r&&o.push(k.slice(r-m,Math.min(k.length,q-m)),p[n+1]),j>=r&&(l=1)):l==1&&(j>q?o.push(k.slice(0,q-m),p[n+1]):o.push(k,p[n+1])),m=j}}function aV(f){this.lines=f,this.parent=null;for(var e=0,h=f.length,g=0;e<h;++e){f[e].parent=this,g+=f[e].height}this.height=g}function aU(h){this.children=h;var g=0,l=0;for(var k=0,j=h.length;k<j;++k){var i=h[k];g+=i.chunkSize(),l+=i.height,i.parent=this}this.size=g,this.height=l,this.parent=null}function aT(g,f){while(!g.lines){for(var j=0;;++j){var i=g.children[j],h=i.chunkSize();if(f<h){g=i;break}f-=h}}return g.lines[f]}function aS(h){if(h.parent==null){return null}var g=h.parent,l=aN(g.lines,h);for(var k=g.parent;k;g=k,k=k.parent){for(var j=0,i=k.children.length;;++j){if(k.children[j]==g){break}l+=k.children[j].chunkSize()}}return l}function aR(r,q){var p=0;r:do{for(var o=0,n=r.children.length;o<n;++o){var m=r.children[o],l=m.height;if(q<l){r=m;continue r}q-=l,p+=m.chunkSize()}return p}while(!r.lines);for(var o=0,n=r.lines.length;o<n;++o){var k=r.lines[o],j=k.height;if(q<j){break}q-=j}return p+o}function aQ(i,h){var n=0;i:do{for(var m=0,l=i.children.length;m<l;++m){var k=i.children[m],j=k.chunkSize();if(h<j){i=k;continue i}h-=j,n+=k.height}return n}while(!i.lines);for(var m=0;m<h;++m){n+=i.lines[m].height}return n}function aO(){this.time=0,this.done=[],this.undone=[],this.compound=0,this.closed=!1}function aF(){aA(this)}function aD(b){return b.stop||(b.stop=aF),b}function aC(b){b.preventDefault?b.preventDefault():b.returnValue=!1}function aB(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0}function aA(b){aC(b),aB(b)}function az(b){return b.target||b.srcElement}function ay(b){if(b.which){return b.which}if(b.button&1){return 1}if(b.button&2){return 3}if(b.button&4){return 2}}function ax(e,d){var f=e.override&&e.override.hasOwnProperty(d);return f?e.override[d]:e[d]}function aw(g,f,j,i){if(typeof g.addEventListener=="function"){g.addEventListener(f,j,!1);if(i){return function(){g.removeEventListener(f,j,!1)}}}else{var h=function(b){j(b||window.event)};g.attachEvent("on"+f,h);if(i){return function(){g.detachEvent("on"+f,h)}}}}function av(){this.id=null}function ae(g,f,j){f==null&&(f=g.search(/[^\s\u00a0]/),f==-1&&(f=g.length));for(var i=0,h=0;i<f;++i){g.charAt(i)=="	"?h+=j-h%j:++h}return h}function aK(b){return b.currentStyle?b.currentStyle:window.getComputedStyle(b,null)}function bh(t,s){var r=t.ownerDocument.body,q=0,p=0,o=!1;for(var n=t;n;n=n.offsetParent){var m=n.offsetLeft,l=n.offsetTop;n==r?(q+=Math.abs(m),p+=Math.abs(l)):(q+=m,p+=l),s&&aK(n).position=="fixed"&&(o=!0)}var k=s&&!o?null:r;for(var n=t.parentNode;n!=k;n=n.parentNode){n.scrollLeft!=null&&(q-=n.scrollLeft,p-=n.scrollTop)}return{left:q,top:p}}function aE(b){return b.textContent||b.innerText||b.nodeValue||""}function bg(b){be?(b.selectionStart=0,b.selectionEnd=b.value.length):b.select()}function aL(d,c){return d.line==c.line&&d.ch==c.ch}function aG(d,c){return d.line<c.line||d.line==c.line&&d.ch<c.ch}function aa(b){return{line:b.line,ch:b.ch}}function aH(b){return aM.textContent=b,aM.innerHTML}function ac(f,e){if(!e){return 0}if(!f){return e.length}for(var h=f.length,g=e.length;h>=0&&g>=0;--h,--g){if(f.charAt(h)!=e.charAt(g)){break}}return g+1}function aN(f,e){if(f.indexOf){return f.indexOf(e)}for(var h=0,g=f.length;h<g;++h){if(f[h]==e){return h}}return -1}function aI(b){return/\w/.test(b)||b.toUpperCase()!=b.toLowerCase()}bf.defaults={value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:!1,smartIndent:!0,tabSize:4,keyMap:"default",extraKeys:null,electricChars:!0,autoClearEmptyLines:!1,onKeyEvent:null,onDragEvent:null,lineWrapping:!1,lineNumbers:!1,gutter:!1,fixedGutter:!1,firstLineNumber:1,readOnly:!1,dragDrop:!0,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:!1,workTime:100,workDelay:200,pollInterval:100,undoDepth:40,tabindex:null,autofocus:null};var be=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),bd=be||/Mac/.test(navigator.platform),bc=/Win/.test(navigator.platform),ba=bf.modes={},a9=bf.mimeModes={};bf.defineMode=function(a,f){!bf.defaults.mode&&a!="null"&&(bf.defaults.mode=a);if(arguments.length>2){f.dependencies=[];for(var e=2;e<arguments.length;++e){f.dependencies.push(arguments[e])}}ba[a]=f},bf.defineMIME=function(d,c){a9[d]=c},bf.resolveMode=function(a){if(typeof a=="string"&&a9.hasOwnProperty(a)){a=a9[a]}else{if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a)){return bf.resolveMode("application/xml")}}return typeof a=="string"?{name:a}:a||{name:"null"}},bf.getMode=function(a,f){var f=bf.resolveMode(f),e=ba[f.name];return e?e(a,f):bf.getMode(a,"text/plain")},bf.listModes=function(){var d=[];for(var c in ba){ba.propertyIsEnumerable(c)&&d.push(c)}return d},bf.listMIMEs=function(){var d=[];for(var c in a9){a9.propertyIsEnumerable(c)&&d.push({mime:c,mode:a9[c]})}return d};var a8=bf.extensions={};bf.defineExtension=function(d,c){a8[d]=c};var a7=bf.commands={selectAll:function(b){b.setSelection({line:0,ch:0},{line:b.lineCount()-1})},killLine:function(f){var e=f.getCursor(!0),h=f.getCursor(!1),g=!aL(e,h);!g&&f.getLine(e.line).length==e.ch?f.replaceRange("",e,{line:e.line+1,ch:0}):f.replaceRange("",e,g?h:{line:e.line})},deleteLine:function(d){var c=d.getCursor().line;d.replaceRange("",{line:c,ch:0},{line:c})},undo:function(b){b.undo()},redo:function(b){b.redo()},goDocStart:function(b){b.setCursor(0,0,!0)},goDocEnd:function(b){b.setSelection({line:b.lineCount()-1},null,!0)},goLineStart:function(b){b.setCursor(b.getCursor().line,0,!0)},goLineStartSmart:function(f){var e=f.getCursor(),h=f.getLine(e.line),g=Math.max(0,h.search(/\S/));f.setCursor(e.line,e.ch<=g&&e.ch?0:g,!0)},goLineEnd:function(b){b.setSelection({line:b.getCursor().line},null,!0)},goLineUp:function(b){b.moveV(-1,"line")},goLineDown:function(b){b.moveV(1,"line")},goPageUp:function(b){b.moveV(-1,"page")},goPageDown:function(b){b.moveV(1,"page")},goCharLeft:function(b){b.moveH(-1,"char")},goCharRight:function(b){b.moveH(1,"char")},goColumnLeft:function(b){b.moveH(-1,"column")},goColumnRight:function(b){b.moveH(1,"column")},goWordLeft:function(b){b.moveH(-1,"word")},goWordRight:function(b){b.moveH(1,"word")},delCharLeft:function(b){b.deleteH(-1,"char")},delCharRight:function(b){b.deleteH(1,"char")},delWordLeft:function(b){b.deleteH(-1,"word")},delWordRight:function(b){b.deleteH(1,"word")},indentAuto:function(b){b.indentSelection("smart")},indentMore:function(b){b.indentSelection("add")},indentLess:function(b){b.indentSelection("subtract")},insertTab:function(b){b.replaceSelection("	","end")},defaultTab:function(b){b.somethingSelected()?b.indentSelection("add"):b.replaceSelection("	","end")},transposeChars:function(e){var d=e.getCursor(),f=e.getLine(d.line);d.ch>0&&d.ch<f.length-1&&e.replaceRange(f.charAt(d.ch)+f.charAt(d.ch-1),{line:d.line,ch:d.ch-1},{line:d.line,ch:d.ch+1})},newlineAndIndent:function(b){b.replaceSelection("\n","end"),b.indentLine(b.getCursor().line)},toggleOverwrite:function(b){b.toggleOverwrite()}},a6=bf.keyMap={};a6.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"},a6.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"},a6.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]},a6["default"]=bd?a6.macDefault:a6.pcDefault,a6.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},bf.fromTextArea=function(a,n){function m(){a.value=i.getValue()}n||(n={}),n.value=a.value,!n.tabindex&&a.tabindex&&(n.tabindex=a.tabindex),n.autofocus==null&&a.getAttribute("autofocus")!=null&&(n.autofocus=!0);if(a.form){var l=aw(a.form,"submit",m,!0);if(typeof a.form.submit=="function"){var k=a.form.submit;function j(){m(),a.form.submit=k,a.form.submit(),a.form.submit=j}a.form.submit=j}}a.style.display="none";var i=bf(function(b){a.parentNode.insertBefore(b,a.nextSibling)},n);return i.save=m,i.getTextArea=function(){return a},i.toTextArea=function(){m(),a.parentNode.removeChild(i.getWrapperElement()),a.style.display="",a.form&&(l(),typeof a.form.submit=="function"&&(a.form.submit=k))},i},bf.copyState=a2,bf.startState=a1,a0.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length){return this.string.charAt(this.pos++)}},eat:function(e){var d=this.string.charAt(this.pos);if(typeof e=="string"){var f=d==e}else{var f=d&&(e.test?e.test(d):e(d))}if(f){return ++this.pos,d}},eatWhile:function(d){var c=this.pos;while(this.eat(d)){}return this.pos>c},eatSpace:function(){var b=this.pos;while(/[\s\u00a0]/.test(this.string.charAt(this.pos))){++this.pos}return this.pos>b},skipToEnd:function(){this.pos=this.string.length},skipTo:function(d){var c=this.string.indexOf(d,this.pos);if(c>-1){return this.pos=c,!0}},backUp:function(b){this.pos-=b},column:function(){return ae(this.string,this.start,this.tabSize)},indentation:function(){return ae(this.string,null,this.tabSize)},match:function(g,f,j){if(typeof g!="string"){var h=this.string.slice(this.pos).match(g);return h&&f!==!1&&(this.pos+=h[0].length),h}function i(b){return j?b.toLowerCase():b}if(i(this.string).indexOf(i(g),this.pos)==this.pos){return f!==!1&&(this.pos+=g.length),!0}},current:function(){return this.string.slice(this.start,this.pos)}},bf.StringStream=a0,aZ.prototype={attach:function(b){this.marker.set.push(b)},detach:function(d){var c=aN(this.marker.set,d);c>-1&&this.marker.set.splice(c,1)},split:function(f,e){if(this.to<=f&&this.to!=null){return null}var h=this.from<f||this.from==null?null:this.from-f+e,g=this.to==null?null:this.to-f+e;return new aZ(h,g,this.style,this.marker)},dup:function(){return new aZ(null,null,this.style,this.marker)},clipTo:function(g,f,j,i,h){g&&i>this.from&&(i<this.to||this.to==null)?this.from=null:this.from!=null&&this.from>=f&&(this.from=Math.max(i,this.from)+h),j&&(f<this.to||this.to==null)&&(f>this.from||this.from==null)?this.to=null:this.to!=null&&this.to>f&&(this.to=i<this.to?this.to+h:f)},isDead:function(){return this.from!=null&&this.to!=null&&this.from>=this.to},sameSet:function(b){return this.marker==b.marker}},aY.prototype={attach:function(b){this.line=b},detach:function(b){this.line==b&&(this.line=null)},split:function(d,c){if(d<this.from){return this.from=this.to=this.from-d+c,this}},isDead:function(){return this.from>this.to},clipTo:function(g,f,j,i,h){(g||f<this.from)&&(j||i>this.to)?(this.from=0,this.to=-1):this.from>f&&(this.from=this.to=Math.max(i,this.from)+h)},sameSet:function(b){return !1},find:function(){return !this.line||!this.line.parent?null:{line:aS(this.line),ch:this.from}},clear:function(){if(this.line){var b=aN(this.line.marked,this);b!=-1&&this.line.marked.splice(b,1),this.line=null}}},aX.inheritMarks=function(j,i){var p=new aX(j),o=i&&i.marked;if(o){for(var n=0;n<o.length;++n){if(o[n].to==null&&o[n].style){var m=p.marked||(p.marked=[]),l=o[n],k=l.dup();m.push(k),k.attach(p)}}}return p},aX.prototype={replace:function(r,q,p){var o=[],n=this.marked,m=q==null?this.text.length:q;aW(0,r,this.styles,o),p&&o.push(p,null),aW(m,this.text.length,this.styles,o),this.styles=o,this.text=this.text.slice(0,r)+p+this.text.slice(m),this.stateAfter=null;if(n){var l=p.length-(m-r);for(var k=0;k<n.length;++k){var j=n[k];j.clipTo(r==null,r||0,q==null,m,l),j.isDead()&&(j.detach(this),n.splice(k--,1))}}},split:function(j,i){var p=[i,null],o=this.marked;aW(j,this.text.length,this.styles,p);var n=new aX(i+this.text.slice(j),p);if(o){for(var m=0;m<o.length;++m){var l=o[m],k=l.split(j,i.length);k&&(n.marked||(n.marked=[]),n.marked.push(k),k.attach(n),k==l&&o.splice(m--,1))}}return n},append:function(j){var i=this.text.length,p=j.marked,o=this.marked;this.text+=j.text,aW(0,j.text.length,j.styles,this.styles);if(o){for(var n=0;n<o.length;++n){o[n].to==null&&(o[n].to=i)}}if(p&&p.length){o||(this.marked=o=[]);j:for(var n=0;n<p.length;++n){var m=p[n];if(!m.from){for(var l=0;l<o.length;++l){var k=o[l];if(k.to==i&&k.sameSet(m)){k.to=m.to==null?null:m.to+i,k.isDead()&&(k.detach(this),p.splice(n--,1));continue j}}}o.push(m),m.attach(this),m.from+=i,m.to!=null&&(m.to+=i)}}},fixMarkEnds:function(i){var h=this.marked,n=i.marked;if(!h){return}for(var m=0;m<h.length;++m){var l=h[m],k=l.to==null;if(k&&n){for(var j=0;j<n.length;++j){if(n[j].sameSet(l)){k=!1;break}}}k&&(l.to=this.text.length)}},fixMarkStarts:function(){var d=this.marked;if(!d){return}for(var c=0;c<d.length;++c){d[c].from==null&&(d[c].from=0)}},addMark:function(b){b.attach(this),this.marked==null&&(this.marked=[]),this.marked.push(b),this.marked.sort(function(d,c){return(d.from||0)-(c.from||0)})},highlight:function(v,u,t){var s=new a0(this.text,t),r=this.styles,q=0,p=!1,o=r[0],n;this.text==""&&v.blankLine&&v.blankLine(u);while(!s.eol()){var m=v.token(s,u),l=this.text.slice(s.start,s.pos);s.start=s.pos,q&&r[q-1]==m?r[q-2]+=l:l&&(!p&&(r[q+1]!=m||q&&r[q-2]!=n)&&(p=!0),r[q++]=l,r[q++]=m,n=o,o=r[q]);if(s.pos>5000){r[q++]=this.text.slice(s.pos),r[q++]=null;break}}return r.length!=q&&(r.length=q,p=!0),q&&r[q-2]!=n&&(p=!0),p||(r.length<5&&this.text.length<10?null:!1)},getTokenAt:function(h,g,l){var k=this.text,j=new a0(k);while(j.pos<l&&!j.eol()){j.start=j.pos;var i=h.token(j,g)}return{start:j.start,end:j.pos,string:j.current(),className:i||null,state:g}},indentation:function(b){return ae(this.text,null,b)},getHTML:function(bt,bs,br,bq){function bm(a,l){if(!a){return}bo&&ar&&a.charAt(0)==" "&&(a="\u00a0"+a.slice(1)),bo=!1;if(a.indexOf("	")==-1){bn+=a.length;var k=aH(a)}else{var k="";for(var g=0;;){var f=a.indexOf("	",g);if(f==-1){k+=aH(a.slice(g)),bn+=a.length-g;break}bn+=f-g;var e=bt(bn);k+=aH(a.slice(g,f))+e.html,bn+=e.width,g=f+1}}l?bp.push('<span class="',l,'">',k,"</span>"):bp.push(k)}function Y(b){return b?"cm-"+b.replace(/ +/g," cm-"):null}var bp=[],bo=!0,bn=0,bl=bm;if(bs!=null){var bk=0,bj='<span id="'+br+'">';bl=function(b,h){var e=b.length;if(bs>=bk&&bs<bk+e){bs>bk&&(bm(b.slice(0,bs-bk),h),bq&&bp.push("<wbr>")),bp.push(bj);var d=bs-bk;bm(al?b.slice(d,d+1):b.slice(d),h),bp.push("</span>"),al&&bm(b.slice(d+1),h),bs--,bk+=e}else{bk+=e,bm(b,h),bk==bs&&bk==Z?bp.push(bj+" </span>"):bk>bs+10&&/\s/.test(b)&&(bl=function(){})}}}var bi=this.styles,bb=this.text,ab=this.marked,Z=bb.length;if(!bb&&bs==null){bl(" ")}else{if(!ab||!ab.length){for(var W=0,U=0;U<Z;W+=2){var S=bi[W],Q=bi[W+1],O=S.length;U+O>Z&&(S=S.slice(0,Z-U)),U+=O,bl(S,Y(Q))}}else{var M=0,W=0,K="",Q,J=0,I=ab[0].from||0,H=[],X=0;function V(){var e;while(X<ab.length&&((e=ab[X]).from==M||e.from==null)){e.style!=null&&H.push(e),++X}I=X<ab.length?ab[X].from:Infinity;for(var d=0;d<H.length;++d){var f=H[d].to||Infinity;f==M?H.splice(d--,1):I=Math.min(f,I)}}var T=0;while(M<Z){I==M&&V();var R=Math.min(Z,I);for(;;){if(K){var P=M+K.length,N=Q;for(var L=0;L<H.length;++L){N=(N?N+" ":"")+H[L].style}bl(P>R?K.slice(0,R-M):K,N);if(P>=R){K=K.slice(R-M),M=R;break}M=P}K=bi[W++],Q=Y(bi[W++])}}}}return bp.join("")},cleanUp:function(){this.parent=null;if(this.marked){for(var d=0,c=this.marked.length;d<c;++d){this.marked[d].detach(this)}}}},aV.prototype={chunkSize:function(){return this.lines.length},remove:function(i,h,n){for(var m=i,l=i+h;m<l;++m){var k=this.lines[m];this.height-=k.height,k.cleanUp();if(k.handlers){for(var j=0;j<k.handlers.length;++j){n.push(k.handlers[j])}}}this.lines.splice(i,h)},collapse:function(b){b.splice.apply(b,[b.length,0].concat(this.lines))},insertHeight:function(g,f,j){this.height+=j,this.lines=this.lines.slice(0,g).concat(f).concat(this.lines.slice(g));for(var i=0,h=f.length;i<h;++i){f[i].parent=this}},iterN:function(f,e,h){for(var g=f+e;f<g;++f){if(h(this.lines[f])){return !0}}}},aU.prototype={chunkSize:function(){return this.size},remove:function(r,q,p){this.size-=q;for(var o=0;o<this.children.length;++o){var n=this.children[o],m=n.chunkSize();if(r<m){var l=Math.min(q,m-r),k=n.height;n.remove(r,l,p),this.height-=k-n.height,m==l&&(this.children.splice(o--,1),n.parent=null);if((q-=l)==0){break}r=0}else{r-=m}}if(this.size-q<25){var j=[];this.collapse(j),this.children=[new aV(j)],this.children[0].parent=this}},collapse:function(e){for(var d=0,f=this.children.length;d<f;++d){this.children[d].collapse(e)}},insert:function(g,f){var j=0;for(var i=0,h=f.length;i<h;++i){j+=f[i].height}this.insertHeight(g,f,j)},insertHeight:function(r,q,p){this.size+=q.length,this.height+=p;for(var o=0,n=this.children.length;o<n;++o){var m=this.children[o],l=m.chunkSize();if(r<=l){m.insertHeight(r,q,p);if(m.lines&&m.lines.length>50){while(m.lines.length>50){var k=m.lines.splice(m.lines.length-25,25),j=new aV(k);m.height-=j.height,this.children.splice(o+1,0,j),j.parent=this}this.maybeSpill()}break}r-=l}},maybeSpill:function(){if(this.children.length<=10){return}var g=this;do{var f=g.children.splice(g.children.length-5,5),j=new aU(f);if(!g.parent){var i=new aU(g.children);i.parent=g,g.children=[i,j],g=i}else{g.size-=j.size,g.height-=j.height;var h=aN(g.parent.children,g);g.parent.children.splice(h+1,0,j)}j.parent=g.parent}while(g.children.length>10);g.parent.maybeSpill()},iter:function(e,d,f){this.iterN(e,d-e,f)},iterN:function(j,i,p){for(var o=0,n=this.children.length;o<n;++o){var m=this.children[o],l=m.chunkSize();if(j<l){var k=Math.min(i,l-j);if(m.iterN(j,k,p)){return !0}if((i-=k)==0){break}j=0}else{j-=l}}}},aO.prototype={addChange:function(t,s,r){this.undone.length=0;var q=+(new Date),p=this.done[this.done.length-1],o=p&&p[p.length-1],n=q-this.time;if(this.compound&&p&&!this.closed){p.push({start:t,added:s,old:r})}else{if(n>400||!o||this.closed||o.start>t+r.length||o.start+o.added<t){this.done.push([{start:t,added:s,old:r}]),this.closed=!1}else{var m=Math.max(0,o.start-t),l=Math.max(0,t+r.length-(o.start+o.added));for(var k=m;k>0;--k){o.old.unshift(r[k-1])}for(var k=l;k>0;--k){o.old.push(r[r.length-k])}m&&(o.start=t),o.added+=s-(r.length-m-l)}}this.time=q},startCompound:function(){this.compound++||(this.closed=!0)},endCompound:function(){--this.compound||(this.closed=!0)}},bf.e_stop=aA,bf.e_preventDefault=aC,bf.e_stopPropagation=aB,bf.connect=aw,av.prototype={set:function(d,c){clearTimeout(this.id),this.id=setTimeout(c,d)}};var au=bf.Pass={toString:function(){return"CodeMirror.Pass"}},at=/gecko\/\d{7}/i.test(navigator.userAgent),ar=/MSIE \d/.test(navigator.userAgent),aq=/MSIE [1-7]\b/.test(navigator.userAgent),ap=/MSIE [1-8]\b/.test(navigator.userAgent),ao=ar&&document.documentMode==5,an=/WebKit\//.test(navigator.userAgent),am=/Chrome\//.test(navigator.userAgent),al=/Opera\//.test(navigator.userAgent),ak=/Apple Computer/.test(navigator.vendor),aj=/KHTML\//.test(navigator.userAgent),ai=/Mac OS X 10\D([7-9]|\d\d)\D/.test(navigator.userAgent),ah=function(){if(ap){return !1}var b=document.createElement("div");return"draggable" in b||"dragDrop" in b}(),ag=function(){var b=document.createElement("textarea");return b.value="foo\nbar",b.value.indexOf("\r")>-1?"\r\n":"\n"}(),af=/^$/;at?af=/$'/:ak?af=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/:am&&(af=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/),document.documentElement.getBoundingClientRect!=null&&(bh=function(g,f){try{var j=g.getBoundingClientRect();j={top:j.top,left:j.left}}catch(i){j={top:0,left:0}}if(!f){if(window.pageYOffset==null){var h=document.documentElement||document.body.parentNode;h.scrollTop==null&&(h=document.body),j.top+=h.scrollTop,j.left+=h.scrollLeft}else{j.top+=window.pageYOffset,j.left+=window.pageXOffset}}return j});var aM=document.createElement("pre");aH("a")=="\na"?aH=function(b){return aM.textContent=b,aM.innerHTML.slice(1)}:aH("	")!="	"&&(aH=function(b){return aM.innerHTML="",aM.appendChild(document.createTextNode(b)),aM.innerHTML}),bf.htmlEscape=aH;var ad="\n\nb".split(/\n/).length!=3?function(f){var e=0,h,g=[];while((h=f.indexOf("\n",e))>-1){g.push(f.slice(e,f.charAt(h-1)=="\r"?h-1:h)),e=h+1}return g.push(f.slice(e)),g}:function(b){return b.split(/\r?\n/)};bf.splitLines=ad;var aP=window.getSelection?function(d){try{return d.selectionStart!=d.selectionEnd}catch(c){return !1}}:function(e){try{var d=e.ownerDocument.selection.createRange()}catch(f){}return !d||d.parentElement()!=e?!1:d.compareEndPoints("StartToEnd",d)!=0};bf.defineMode("null",function(){return{token:function(b){b.skipToEnd()}}}),bf.defineMIME("text/plain","null");var aJ={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",109:"-",107:"=",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};return bf.keyNames=aJ,function(){for(var b=0;b<10;b++){aJ[b+48]=String(b)}for(var b=65;b<=90;b++){aJ[b]=String.fromCharCode(b)}for(var b=1;b<=12;b++){aJ[b+111]=aJ[b+63235]="F"+b}}(),bf}();CodeMirror.defineMode("clike",function(F,E){function v(e,d){var i=e.next();if(z[i]){var g=z[i](e,d);if(g!==!1){return g}}if(i=='"'||i=="'"){return d.tokenize=u(i),d.tokenize(e,d)}if(/[\[\]{}\(\),;\:\.]/.test(i)){return w=i,null}if(/\d/.test(i)){return e.eatWhile(/[\w\.]/),"number"}if(i=="/"){if(e.eat("*")){return d.tokenize=t,t(e,d)}if(e.eat("/")){return e.skipToEnd(),"comment"}}if(x.test(i)){return e.eatWhile(x),"operator"}e.eatWhile(/[\w\$_]/);var f=e.current();return C.propertyIsEnumerable(f)?(B.propertyIsEnumerable(f)&&(w="newstatement"),"keyword"):A.propertyIsEnumerable(f)?"atom":"word"}function u(b){return function(a,j){var i=!1,h,g=!1;while((h=a.next())!=null){if(h==b&&!i){g=!0;break}i=!i&&h=="\\"}if(g||!i&&!y){j.tokenize=null}return"string"}}function t(f,e){var h=!1,g;while(g=f.next()){if(g=="/"&&h){e.tokenize=null;break}h=g=="*"}return"comment"}function s(g,f,j,i,h){this.indented=g,this.column=f,this.type=j,this.align=i,this.prev=h}function r(e,d,f){return e.context=new s(e.indented,d,f,null,e.context)}function q(d){var c=d.context.type;if(c==")"||c=="]"||c=="}"){d.indented=d.context.indented}return d.context=d.context.prev}var D=F.indentUnit,C=E.keywords||{},B=E.blockKeywords||{},A=E.atoms||{},z=E.hooks||{},y=E.multiLineStrings,x=/[+\-*&%=<>!?|\/]/,w;return{startState:function(b){return{tokenize:null,context:new s((b||0)-D,0,"top",!1),indented:0,startOfLine:!0}},token:function(f,e){var h=e.context;f.sol()&&(h.align==null&&(h.align=!1),e.indented=f.indentation(),e.startOfLine=!0);if(f.eatSpace()){return null}w=null;var g=(e.tokenize||v)(f,e);if(g=="comment"||g=="meta"){return g}h.align==null&&(h.align=!0);if(w!=";"&&w!=":"||h.type!="statement"){if(w=="{"){r(e,f.column(),"}")}else{if(w=="["){r(e,f.column(),"]")}else{if(w=="("){r(e,f.column(),")")}else{if(w=="}"){while(h.type=="statement"){h=q(e)}h.type=="}"&&(h=q(e));while(h.type=="statement"){h=q(e)}}else{w==h.type?q(e):(h.type=="}"||h.type=="top"||h.type=="statement"&&w=="newstatement")&&r(e,f.column(),"statement")}}}}}else{q(e)}return e.startOfLine=!1,g},indent:function(g,c){if(g.tokenize!=v&&g.tokenize!=null){return 0}var j=g.context,i=c&&c.charAt(0);j.type=="statement"&&i=="}"&&(j=j.prev);var h=i==j.type;return j.type=="statement"?j.indented+(i=="{"?0:D):j.align?j.column+(h?0:1):j.indented+(h?0:D)},electricChars:"{}"}}),function(){function f(j){var i={},l=j.split(" ");for(var k=0;k<l.length;++k){i[l[k]]=!0}return i}function h(d,c){return c.startOfLine?(d.skipToEnd(),"meta"):!1}function g(i,d){var j;while((j=i.next())!=null){if(j=='"'&&!i.eat('"')){d.tokenize=null;break}}return"string"}var e="auto if break int case long char register continue return default short do sizeof double static else struct entry switch extern typedef float union for unsigned goto while enum void const signed volatile";CodeMirror.defineMIME("text/x-csrc",{name:"clike",keywords:f(e),blockKeywords:f("case do else for if switch while struct"),atoms:f("null"),hooks:{"#":h}}),CodeMirror.defineMIME("text/x-c++src",{name:"clike",keywords:f(e+" asm dynamic_cast namespace reinterpret_cast try bool explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected wchar_t"),blockKeywords:f("catch class do else finally for if struct switch try while"),atoms:f("true false null"),hooks:{"#":h}}),CodeMirror.defineMIME("text/x-java",{name:"clike",keywords:f("abstract assert boolean break byte case catch char class const continue default do double else enum extends final finally float for goto if implements import instanceof int interface long native new package private protected public return short static strictfp super switch synchronized this throw throws transient try void volatile while"),blockKeywords:f("catch class do else finally for if switch try while"),atoms:f("true false null"),hooks:{"@":function(d,c){return d.eatWhile(/[\w\$_]/),"meta"}}}),CodeMirror.defineMIME("text/x-csharp",{name:"clike",keywords:f("abstract as base bool break byte case catch char checked class const continue decimal default delegate do double else enum event explicit extern finally fixed float for foreach goto if implicit in int interface internal is lock long namespace new object operator out override params private protected public readonly ref return sbyte sealed short sizeof stackalloc static string struct switch this throw try typeof uint ulong unchecked unsafe ushort using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),blockKeywords:f("catch class do else finally for foreach if struct switch try while"),atoms:f("true false null"),hooks:{"@":function(d,c){return d.eat('"')?(c.tokenize=g,g(d,c)):(d.eatWhile(/[\w\$_]/),"meta")}}}),CodeMirror.defineMIME("text/x-scala",{name:"clike",keywords:f("abstract case catch class def do else extends false final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try trye type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector :: #:: Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),blockKeywords:f("catch class do else finally for forSome if match switch try while"),atoms:f("true false null"),hooks:{"@":function(d,c){return d.eatWhile(/[\w\$_]/),"meta"}}})}(),CodeMirror.defineMode("css",function(j){function o(d,c){return p=c,d}function n(e,d){var f=e.next();if(f=="@"){return e.eatWhile(/[\w\\\-]/),o("meta",e.current())}if(f=="/"&&e.eat("*")){return d.tokenize=m,m(e,d)}if(f=="<"&&e.eat("!")){return d.tokenize=l,l(e,d)}if(f!="="){return f!="~"&&f!="|"||!e.eat("=")?f=='"'||f=="'"?(d.tokenize=k(f),d.tokenize(e,d)):f=="#"?(e.eatWhile(/[\w\\\-]/),o("atom","hash")):f=="!"?(e.match(/^\s*\w*/),o("keyword","important")):/\d/.test(f)?(e.eatWhile(/[\w.%]/),o("number","unit")):/[,.+>*\/]/.test(f)?o(null,"select-op"):/[;{}:\[\]]/.test(f)?o(null,f):(e.eatWhile(/[\w\\\-]/),o("variable","variable")):o(null,"compare")}o(null,"compare")}function m(e,d){var h=!1,g;while((g=e.next())!=null){if(h&&g=="/"){d.tokenize=n;break}h=g=="*"}return o("comment","comment")}function l(e,d){var h=0,g;while((g=e.next())!=null){if(h>=2&&g==">"){d.tokenize=n;break}h=g=="-"?h+1:0}return o("comment","comment")}function k(b){return function(a,h){var e=!1,d;while((d=a.next())!=null){if(d==b&&!e){break}e=!e&&d=="\\"}return e||(h.tokenize=n),o("string","string")}}var i=j.indentUnit,p;return{startState:function(b){return{tokenize:n,baseIndent:b||0,stack:[]}},token:function(f,c){if(f.eatSpace()){return null}var h=c.tokenize(f,c),g=c.stack[c.stack.length-1];if(p=="hash"&&g!="rule"){h="string-2"}else{if(h=="variable"){if(g=="rule"){h="number"}else{if(!g||g=="@media{"){h="tag"}}}}return g=="rule"&&/^[\{\};]$/.test(p)&&c.stack.pop(),p=="{"?g=="@media"?c.stack[c.stack.length-1]="@media{":c.stack.push("{"):p=="}"?c.stack.pop():p=="@media"?c.stack.push("@media"):g=="{"&&p!="comment"&&c.stack.push("rule"),h},indent:function(b,f){var e=b.stack.length;return/^\}/.test(f)&&(e-=b.stack[b.stack.length-1]=="rule"?2:1),b.baseIndent+e*i},electricChars:"}"}}),CodeMirror.defineMIME("text/css","css"),CodeMirror.defineMode("htmlmixed",function(r,q){function m(d,c){var e=p.token(d,c.htmlState);return e=="tag"&&d.current()==">"&&c.htmlState.context&&(/^script$/i.test(c.htmlState.context.tagName)?(c.token=k,c.localState=o.startState(p.indent(c.htmlState,"")),c.mode="javascript"):/^style$/i.test(c.htmlState.context.tagName)&&(c.token=j,c.localState=n.startState(p.indent(c.htmlState,"")),c.mode="css")),e}function l(g,f,s){var i=g.current(),h=i.search(f);return h>-1&&g.backUp(i.length-h),s}function k(d,c){return d.match(/^<\/\s*script\s*>/i,!1)?(c.token=m,c.localState=null,c.mode="html",m(d,c)):l(d,/<\/\s*script\s*>/,o.token(d,c.localState))}function j(d,c){return d.match(/^<\/\s*style\s*>/i,!1)?(c.token=m,c.localState=null,c.mode="html",m(d,c)):l(d,/<\/\s*style\s*>/,n.token(d,c.localState))}var p=CodeMirror.getMode(r,{name:"xml",htmlMode:!0}),o=CodeMirror.getMode(r,"javascript"),n=CodeMirror.getMode(r,"css");return{startState:function(){var b=p.startState();return{token:m,localState:null,mode:"html",htmlState:b}},copyState:function(d){if(d.localState){var c=CodeMirror.copyState(d.token==j?n:o,d.localState)}return{token:d.token,localState:c,mode:d.mode,htmlState:CodeMirror.copyState(p,d.htmlState)}},token:function(d,c){return c.token(d,c)},indent:function(d,c){return d.token==m||/^\s*<\//.test(c)?p.indent(d.htmlState,c):d.token==k?o.indent(d.localState,c):n.indent(d.localState,c)},compareStates:function(d,c){return d.mode!=c.mode?!1:d.localState?CodeMirror.Pass:p.compareStates(d.htmlState,c.htmlState)},electricChars:"/{}:"}},"xml","javascript","css"),CodeMirror.defineMIME("text/html","htmlmixed"),CodeMirror.defineMode("javascript",function(aM,aL){function aG(e,d,f){return d.tokenize=f,f(e,d)}function aF(f,e){var h=!1,g;while((g=f.next())!=null){if(g==e&&!h){return !1}h=!h&&g=="\\"}return h}function aC(e,d,f){return aE=e,aD=f,d}function aB(f,e){var j=f.next();if(j=='"'||j=="'"){return aG(f,e,aA(j))}if(/[\[\]{}\(\),;\:\.]/.test(j)){return aC(j)}if(j=="0"&&f.eat(/x/i)){return f.eatWhile(/[\da-f]/i),aC("number","number")}if(/\d/.test(j)||j=="-"&&f.eat(/\d/)){return f.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),aC("number","number")}if(j=="/"){return f.eat("*")?aG(f,e,az):f.eat("/")?(f.skipToEnd(),aC("comment","comment")):e.reAllowed?(aF(f,"/"),f.eatWhile(/[gimy]/),aC("regexp","string-2")):(f.eatWhile(aH),aC("operator",null,f.current()))}if(j=="#"){return f.skipToEnd(),aC("error","error")}if(aH.test(j)){return f.eatWhile(aH),aC("operator",null,f.current())}f.eatWhile(/[\w\$_]/);var h=f.current(),g=aI.propertyIsEnumerable(h)&&aI[h];return g&&e.kwAllowed?aC(g.type,g.style,h):aC("variable","variable",h)}function aA(b){return function(a,d){return aF(a,b)||(d.tokenize=aB),aC("string","string")}}function az(f,e){var h=!1,g;while(g=f.next()){if(g=="/"&&h){e.tokenize=aB;break}h=g=="*"}return aC("comment","comment")}function ax(h,g,l,k,j,i){this.indented=h,this.column=g,this.type=l,this.prev=j,this.info=i,k!=null&&(this.align=k)}function aw(e,d){for(var f=e.localVars;f;f=f.next){if(f.name==d){return !0}}}function av(i,d,n,m,l){var k=i.cc;au.state=i,au.stream=l,au.marked=null,au.cc=k,i.lexical.hasOwnProperty("align")||(i.lexical.align=!0);for(;;){var j=k.length?k.pop():aJ?ai:aj;if(j(n,m)){while(k.length&&k[k.length-1].lex){k.pop()()}return au.marked?au.marked:n=="variable"&&aw(i,m)?"variable-2":d}}}function at(){for(var b=arguments.length-1;b>=0;b--){au.cc.push(arguments[b])}}function ar(){return at.apply(null,arguments),!0}function aq(e){var d=au.state;if(d.context){au.marked="def";for(var f=d.localVars;f;f=f.next){if(f.name==e){return}}d.localVars={name:e,next:d.localVars}}}function ao(){au.state.context||(au.state.localVars=ap),au.state.context={prev:au.state.context,vars:au.state.localVars}}function an(){au.state.localVars=au.state.context.vars,au.state.context=au.state.context.prev}function am(e,d){var f=function(){var a=au.state;a.lexical=new ax(a.indented,au.stream.column(),e,null,a.lexical,d)};return f.lex=!0,f}function al(){var b=au.state;b.lexical.prev&&(b.lexical.type==")"&&(b.indented=b.lexical.indented),b.lexical=b.lexical.prev)}function ak(b){return function(a){return a==b?ar():b==";"?at():ar(arguments.callee)}}function aj(b){return b=="var"?ar(am("vardef"),aa,ak(";"),al):b=="keyword a"?ar(am("form"),ai,aj,al):b=="keyword b"?ar(am("form"),aj,al):b=="{"?ar(am("}"),ab,al):b==";"?ar():b=="function"?ar(U):b=="for"?ar(am("form"),ak("("),am(")"),Y,ak(")"),al,aj,al):b=="variable"?ar(am("stat"),af):b=="switch"?ar(am("form"),ai,am("}","switch"),ak("{"),ab,al,al):b=="case"?ar(ai,ak(":")):b=="default"?ar(ak(":")):b=="catch"?ar(am("form"),ao,ak("("),T,ak(")"),aj,al,an):at(am("stat"),ai,ak(";"),al)}function ai(b){return ay.hasOwnProperty(b)?ar(ag):b=="function"?ar(U):b=="keyword c"?ar(ah):b=="("?ar(am(")"),ah,ak(")"),al,ag):b=="operator"?ar(ai):b=="["?ar(am("]"),ac(ai,"]"),al,ag):b=="{"?ar(am("}"),ac(ad,"}"),al,ag):ar()}function ah(b){return b.match(/[;\}\)\],]/)?at():at(ai)}function ag(d,c){if(d=="operator"&&/\+\+|--/.test(c)){return ar(ag)}if(d=="operator"||d==":"){return ar(ai)}if(d==";"){return}if(d=="("){return ar(am(")"),ac(ai,")"),al,ag)}if(d=="."){return ar(ae,ag)}if(d=="["){return ar(am("]"),ai,ak("]"),al,ag)}}function af(b){return b==":"?ar(al,aj):at(ag,ak(";"),al)}function ae(b){if(b=="variable"){return au.marked="property",ar()}}function ad(b){b=="variable"&&(au.marked="property");if(ay.hasOwnProperty(b)){return ar(ak(":"),ai)}}function ac(e,d){function f(a){return a==","?ar(e,f):a==d?ar():ar(ak(d))}return function(a){return a==d?ar():at(e,f)}}function ab(b){return b=="}"?ar():at(aj,ab)}function aa(d,c){return d=="variable"?(aq(c),ar(Z)):ar()}function Z(d,c){if(c=="="){return ar(ai,Z)}if(d==","){return ar(aa)}}function Y(b){return b=="var"?ar(aa,W):b==";"?at(W):b=="variable"?ar(X):at(W)}function X(d,c){return c=="in"?ar(ai):ar(ag,W)}function W(d,c){return d==";"?ar(V):c=="in"?ar(ai):ar(ai,ak(";"),V)}function V(b){b!=")"&&ar(ai)}function U(d,c){if(d=="variable"){return aq(c),ar(U)}if(d=="("){return ar(am(")"),ao,ac(T,")"),al,aj,an)}}function T(d,c){if(d=="variable"){return aq(c),ar()}}var aK=aM.indentUnit,aJ=aL.json,aI=function(){function h(b){return{type:b,style:"keyword"}}var g=h("keyword a"),l=h("keyword b"),k=h("keyword c"),j=h("operator"),i={type:"atom",style:"atom"};return{"if":g,"while":g,"with":g,"else":l,"do":l,"try":l,"finally":l,"return":k,"break":k,"continue":k,"new":k,"delete":k,"throw":k,"var":h("var"),"const":h("var"),let:h("var"),"function":h("function"),"catch":h("catch"),"for":h("for"),"switch":h("switch"),"case":h("case"),"default":h("default"),"in":j,"typeof":j,"instanceof":j,"true":i,"false":i,"null":i,"undefined":i,NaN:i,Infinity:i}}(),aH=/[+\-*&%=<>!?|]/,aE,aD,ay={atom:!0,number:!0,variable:!0,string:!0,regexp:!0},au={state:null,column:null,marked:null,cc:null},ap={name:"this",next:{name:"arguments"}};return al.lex=!0,{startState:function(b){return{tokenize:aB,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new ax((b||0)-aK,0,"block",!1),localVars:aL.localVars,context:aL.localVars&&{vars:aL.localVars},indented:0}},token:function(e,d){e.sol()&&(d.lexical.hasOwnProperty("align")||(d.lexical.align=!1),d.indented=e.indentation());if(e.eatSpace()){return null}var f=d.tokenize(e,d);return aE=="comment"?f:(d.reAllowed=aE=="operator"||aE=="keyword c"||!!aE.match(/^[\[{}\(,;:]$/),d.kwAllowed=aE!=".",av(d,f,aE,aD,e))},indent:function(h,c){if(h.tokenize!=aB){return 0}var l=c&&c.charAt(0),k=h.lexical;k.type=="stat"&&l=="}"&&(k=k.prev);var j=k.type,i=l==j;return j=="vardef"?k.indented+4:j=="form"&&l=="{"?k.indented:j=="stat"||j=="form"?k.indented+aK:k.info=="switch"&&!i?k.indented+(/^(?:case|default)\b/.test(c)?aK:2*aK):k.align?k.column+(i?0:1):k.indented+(i?0:aK)},electricChars:":{}"}}),CodeMirror.defineMIME("text/javascript","javascript"),CodeMirror.defineMIME("application/json",{name:"javascript",json:!0}),function(){function e(h){var g={},j=h.split(" ");for(var i=0;i<j.length;++i){g[j[i]]=!0}return g}function d(b){return function(a,g){return a.match(b)?g.tokenize=null:a.skipToEnd(),"string"}}var f={name:"clike",keywords:e("abstract and array as break case catch class clone const continue declare default do else elseif enddeclare endfor endforeach endif endswitch endwhile extends final for foreach function global goto if implements interface instanceof namespace new or private protected public static switch throw trait try use var while xor die echo empty exit eval include include_once isset list require require_once return print unset __halt_compiler self static parent"),blockKeywords:e("catch do else elseif for foreach if switch try while"),atoms:e("true false null TRUE FALSE NULL"),multiLineStrings:!0,hooks:{$:function(g,c){return g.eatWhile(/[\w\$_]/),"variable-2"},"<":function(b,g){return b.match(/<</)?(b.eatWhile(/[\w\.]/),g.tokenize=d(b.current().slice(3)),g.tokenize(b,g)):!1},"#":function(g,c){while(!g.eol()&&!g.match("?>",!1)){g.next()}return"comment"},"/":function(g,c){if(g.eat("/")){while(!g.eol()&&!g.match("?>",!1)){g.next()}return"comment"}return !1}}};CodeMirror.defineMode("php",function(i,c){function j(h,g){var r=g.mode=="php";h.sol()&&g.pending!='"'&&(g.pending=null);if(g.curMode==n){if(h.match(/^<\?\w*/)){return g.curMode=k,g.curState=g.php,g.curClose="?>",g.mode="php","meta"}if(g.pending=='"'){while(!h.eol()&&h.next()!='"'){}var q="string"}else{if(g.pending&&h.pos<g.pending.end){h.pos=g.pending.end;var q=g.pending.style}else{var q=n.token(h,g.curState)}}g.pending=null;var p=h.current(),o=p.search(/<\?/);return o!=-1?(q=="string"&&/\"$/.test(p)&&!/\?>/.test(p)?g.pending='"':g.pending={end:h.pos,style:q},h.backUp(p.length-o)):q=="tag"&&h.current()==">"&&g.curState.context&&(/^script$/i.test(g.curState.context.tagName)?(g.curMode=m,g.curState=m.startState(n.indent(g.curState,"")),g.curClose=/^<\/\s*script\s*>/i,g.mode="javascript"):/^style$/i.test(g.curState.context.tagName)&&(g.curMode=l,g.curState=l.startState(n.indent(g.curState,"")),g.curClose=/^<\/\s*style\s*>/i,g.mode="css")),q}return(!r||g.php.tokenize==null)&&h.match(g.curClose,r)?(g.curMode=n,g.curState=g.html,g.curClose=null,g.mode="html",r?"meta":j(h,g)):g.curMode.token(h,g.curState)}var n=CodeMirror.getMode(i,{name:"xml",htmlMode:!0}),m=CodeMirror.getMode(i,"javascript"),l=CodeMirror.getMode(i,"css"),k=CodeMirror.getMode(i,f);return{startState:function(){var b=n.startState();return{html:b,php:k.startState(),curMode:c.startOpen?k:n,curState:c.startOpen?k.startState():b,curClose:c.startOpen?/^\?>/:null,mode:c.startOpen?"php":"html",pending:null}},copyState:function(o){var g=o.html,s=CodeMirror.copyState(n,g),r=o.php,q=CodeMirror.copyState(k,r),p;return o.curState==g?p=s:o.curState==r?p=q:p=CodeMirror.copyState(o.curMode,o.curState),{html:s,php:q,curMode:o.curMode,curState:p,curClose:o.curClose,mode:o.mode,pending:o.pending}},token:j,indent:function(h,g){return h.curMode!=k&&/^\s*<\//.test(g)||h.curMode==k&&/^\?>/.test(g)?n.indent(h.html,g):h.curMode.indent(h.curState,g)},electricChars:"/{}:"}},"xml","clike","javascript","css"),CodeMirror.defineMIME("application/x-httpd-php","php"),CodeMirror.defineMIME("application/x-httpd-php-open",{name:"php",startOpen:!0}),CodeMirror.defineMIME("text/x-php",f)}(),CodeMirror.defineMode("ruby",function(B,A){function z(f){var e={};for(var h=0,g=f.length;h<g;++h){e[f[h]]=!0}return e}function t(e,d,f){return f.tokenize.push(e),e(d,f)}function s(h,g){u=null;if(h.sol()&&h.match("=begin")&&h.eol()){return g.tokenize.push(o),"comment"}if(h.eatSpace()){return null}var n=h.next(),m;if(n=="`"||n=="'"||n=='"'||n=="/"&&!h.eol()&&h.peek()!=" "){return t(q(n,"string",n=='"'||n=="`"),h,g)}if(n=="%"){var l,k=!1;h.eat("s")?l="atom":h.eat(/[WQ]/)?(l="string",k=!0):h.eat(/[wxqr]/)&&(l="string");var i=h.eat(/[^\w\s]/);return i?(v.propertyIsEnumerable(i)&&(i=v[i]),t(q(i,l,k,!0),h,g)):"operator"}if(n=="#"){return h.skipToEnd(),"comment"}if(n=="<"&&(m=h.match(/^<-?[\`\"\']?([a-zA-Z_?]\w*)[\`\"\']?(?:;|$)/))){return t(p(m[1]),h,g)}if(n=="0"){return h.eat("x")?h.eatWhile(/[\da-fA-F]/):h.eat("b")?h.eatWhile(/[01]/):h.eatWhile(/[0-7]/),"number"}if(/\d/.test(n)){return h.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number"}if(n=="?"){while(h.match(/^\\[CM]-/)){}return h.eat("\\")?h.eatWhile(/\w/):h.next(),"string"}return n==":"?h.eat("'")?t(q("'","atom",!1),h,g):h.eat('"')?t(q('"',"atom",!0),h,g):(h.eatWhile(/[\w\?]/),"atom"):n=="@"?(h.eat("@"),h.eatWhile(/[\w\?]/),"variable-2"):n=="$"?(h.next(),h.eatWhile(/[\w\?]/),"variable-3"):/\w/.test(n)?(h.eatWhile(/[\w\?]/),h.eat(":")?"atom":"ident"):n!="|"||!g.varList&&g.lastTok!="{"&&g.lastTok!="do"?/[\(\)\[\]{}\\;]/.test(n)?(u=n,null):n=="-"&&h.eat(">")?"arrow":/[=+\-\/*:\.^%<>~|]/.test(n)?(h.eatWhile(/[=+\-\/*:\.^%<>~|]/),"operator"):null:(u="|",null)}function r(){var b=1;return function(a,d){if(a.peek()=="}"){b--;if(b==0){return d.tokenize.pop(),d.tokenize[d.tokenize.length-1](a,d)}}else{a.peek()=="{"&&b++}return s(a,d)}}function q(f,e,h,g){return function(d,c){var b=!1,a;while((a=d.next())!=null){if(a==f&&(g||!b)){c.tokenize.pop();break}if(h&&a=="#"&&!b&&d.eat("{")){c.tokenize.push(r(arguments.callee));break}b=!b&&a=="\\"}return e}}function p(b){return function(a,d){return a.match(b)?d.tokenize.pop():a.skipToEnd(),"string"}}function o(d,c){return d.sol()&&d.match("=end")&&d.eol()&&c.tokenize.pop(),d.skipToEnd(),"comment"}var y=z(["alias","and","BEGIN","begin","break","case","class","def","defined?","do","else","elsif","END","end","ensure","false","for","if","in","module","next","not","or","redo","rescue","retry","return","self","super","then","true","undef","unless","until","when","while","yield","nil","raise","throw","catch","fail","loop","callcc","caller","lambda","proc","public","protected","private","require","load","require_relative","extend","autoload"]),x=z(["def","class","case","for","while","do","module","then","catch","loop","proc","begin"]),w=z(["end","until"]),v={"[":"]","{":"}","(":")"},u;return{startState:function(){return{tokenize:[s],indented:0,context:{type:"top",indented:-B.indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(e,d){e.sol()&&(d.indented=e.indentation());var j=d.tokenize[d.tokenize.length-1](e,d),h;if(j=="ident"){var f=e.current();j=y.propertyIsEnumerable(e.current())?"keyword":/^[A-Z]/.test(f)?"tag":d.lastTok=="def"||d.lastTok=="class"||d.varList?"def":"variable",x.propertyIsEnumerable(f)?h="indent":w.propertyIsEnumerable(f)?h="dedent":(f=="if"||f=="unless")&&e.column()==e.indentation()&&(h="indent")}if(u||j&&j!="comment"){d.lastTok=f||u||j}return u=="|"&&(d.varList=!d.varList),h=="indent"||/[\(\[\{]/.test(u)?d.context={prev:d.context,type:u||j,indented:d.indented}:(h=="dedent"||/[\)\]\}]/.test(u))&&d.context.prev&&(d.context=d.context.prev),e.eol()&&(d.continuedLine=u=="\\"||j=="operator"),j},indent:function(a,j){if(a.tokenize[a.tokenize.length-1]!=s){return 0}var i=j&&j.charAt(0),h=a.context,g=h.type==v[i]||h.type=="keyword"&&/^(?:end|until|else|elsif|when|rescue)\b/.test(j);return h.indented+(g?0:B.indentUnit)+(a.continuedLine?B.indentUnit:0)},electricChars:"}de"}}),CodeMirror.defineMIME("text/x-ruby","ruby"),CodeMirror.defineMode("xml",function(Z,Y){function S(g,f){function l(a){return f.tokenize=a,a(g,f)}var k=g.next();if(k=="<"){if(g.eat("!")){return g.eat("[")?g.match("CDATA[")?l(P("atom","]]>")):null:g.match("--")?l(P("comment","-->")):g.match("DOCTYPE",!0,!0)?(g.eatWhile(/[\w\._\-]/),l(O(1))):null}if(g.eat("?")){return g.eatWhile(/[\w\._\-]/),f.tokenize=P("meta","?>"),"meta"}T=g.eat("/")?"closeTag":"openTag",g.eatSpace(),U="";var j;while(j=g.eat(/[^\s\u00a0=<>\"\'\/?]/)){U+=j}return f.tokenize=R,"tag"}if(k=="&"){var i;return g.eat("#")?g.eat("x")?i=g.eatWhile(/[a-fA-F\d]/)&&g.eat(";"):i=g.eatWhile(/[\d]/)&&g.eat(";"):i=g.eatWhile(/[\w\.\-:]/)&&g.eat(";"),i?"atom":"error"}return g.eatWhile(/[^&<]/),null}function R(e,d){var f=e.next();return f==">"||f=="/"&&e.eat(">")?(d.tokenize=S,T=f==">"?"endTag":"selfcloseTag","tag"):f=="="?(T="equals",null):/[\'\"]/.test(f)?(d.tokenize=Q(f),d.tokenize(e,d)):(e.eatWhile(/[^\s\u00a0=<>\"\'\/?]/),"word")}function Q(b){return function(a,d){while(!a.eol()){if(a.next()==b){d.tokenize=R;break}}return"string"}}function P(d,c){return function(b,a){while(!b.eol()){if(b.match(c)){a.tokenize=S;break}b.next()}return d}}function O(b){return function(a,f){var e;while((e=a.next())!=null){if(e=="<"){return f.tokenize=O(b+1),f.tokenize(a,f)}if(e==">"){if(b==1){f.tokenize=S;break}return f.tokenize=O(b-1),f.tokenize(a,f)}}return"meta"}}function L(){for(var b=arguments.length-1;b>=0;b--){N.cc.push(arguments[b])}}function K(){return L.apply(null,arguments),!0}function J(e,d){var f=W.doNotIndent.hasOwnProperty(e)||N.context&&N.context.noIndent;N.context={prev:N.context,tagName:e,indent:N.indented,startOfLine:d,noIndent:f}}function I(){N.context&&(N.context=N.context.prev)}function H(d){if(d=="openTag"){return N.tagName=U,K(D,G(N.startOfLine))}if(d=="closeTag"){var c=!1;return N.context?N.context.tagName!=U&&(W.implicitlyClosed.hasOwnProperty(N.context.tagName.toLowerCase())&&I(),c=!N.context||N.context.tagName!=U):c=!0,c&&(M="error"),K(F(c))}return K()}function G(b){return function(a){return a=="selfcloseTag"||a=="endTag"&&W.autoSelfClosers.hasOwnProperty(N.tagName.toLowerCase())?(E(N.tagName.toLowerCase()),K()):a=="endTag"?(E(N.tagName.toLowerCase()),J(N.tagName,b),K()):K()}}function F(b){return function(a){return b&&(M="error"),a=="endTag"?(I(),K()):(M="error",K(arguments.callee))}}function E(d){var c;for(;;){if(!N.context){return}c=N.context.tagName.toLowerCase();if(!W.contextGrabbers.hasOwnProperty(c)||!W.contextGrabbers[c].hasOwnProperty(d)){return}I()}}function D(b){return b=="word"?(M="attribute",K(C,D)):b=="endTag"||b=="selfcloseTag"?L():(M="error",K(D))}function C(b){return b=="equals"?K(B,D):(W.allowMissing||(M="error"),b=="endTag"||b=="selfcloseTag"?L():K())}function B(b){return b=="string"?K(A):b=="word"&&W.allowUnquoted?(M="string",K()):(M="error",b=="endTag"||b=="selfCloseTag"?L():K())}function A(b){return b=="string"?K(A):L()}var X=Z.indentUnit,W=Y.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!1}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},V=Y.alignCDATA,U,T,N,M;return{startState:function(){return{tokenize:S,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(f,e){f.sol()&&(e.startOfLine=!0,e.indented=f.indentation());if(f.eatSpace()){return null}M=T=U=null;var h=e.tokenize(f,e);e.type=T;if((h||T)&&h!="comment"){N=e;for(;;){var g=e.cc.pop()||H;if(g(T||h)){break}}}return e.startOfLine=!1,M||h},indent:function(e,c,h){var g=e.context;if(e.tokenize!=R&&e.tokenize!=S||g&&g.noIndent){return h?h.match(/^(\s*)/)[0].length:0}if(V&&/<!\[CDATA\[/.test(c)){return 0}g&&/^<\//.test(c)&&(g=g.prev);while(g&&!g.startOfLine){g=g.prev}return g?g.indent+X:0},compareStates:function(f,e){if(f.indented!=e.indented||f.tokenize!=e.tokenize){return !1}for(var h=f.context,g=e.context;;h=h.prev,g=g.prev){if(!h||!g){return h==g}if(h.tagName!=g.tagName){return !1}}},electricChars:"/"}}),CodeMirror.defineMIME("application/xml","xml"),CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});CodeMirror.defineMode("scheme",function(y,j){var m="builtin",r="comment",i="string",d="atom",l="number",g="bracket",h="keyword";var p=2,f=1;function v(C){var A={},B=C.split(" ");for(var z=0;z<B.length;++z){A[B[z]]=true}return A}var e=v("λ case-lambda call/cc class define-class exit-handler field import inherit init-field interface let*-values let-values let/ec mixin opt-lambda override protect provide public rename require require-for-syntax syntax syntax-case syntax-error unit/sig unless when with-syntax and begin call-with-current-continuation call-with-input-file call-with-output-file case cond define define-syntax delay do dynamic-wind else for-each if lambda let let* let-syntax letrec letrec-syntax map or syntax-rules abs acos angle append apply asin assoc assq assv atan boolean? caar cadr call-with-input-file call-with-output-file call-with-values car cdddar cddddr cdr ceiling char->integer char-alphabetic? char-ci<=? char-ci<? char-ci=? char-ci>=? char-ci>? char-downcase char-lower-case? char-numeric? char-ready? char-upcase char-upper-case? char-whitespace? char<=? char<? char=? char>=? char>? char? close-input-port close-output-port complex? cons cos current-input-port current-output-port denominator display eof-object? eq? equal? eqv? eval even? exact->inexact exact? exp expt #f floor force gcd imag-part inexact->exact inexact? input-port? integer->char integer? interaction-environment lcm length list list->string list->vector list-ref list-tail list? load log magnitude make-polar make-rectangular make-string make-vector max member memq memv min modulo negative? newline not null-environment null? number->string number? numerator odd? open-input-file open-output-file output-port? pair? peek-char port? positive? procedure? quasiquote quote quotient rational? rationalize read read-char real-part real? remainder reverse round scheme-report-environment set! set-car! set-cdr! sin sqrt string string->list string->number string->symbol string-append string-ci<=? string-ci<? string-ci=? string-ci>=? string-ci>? string-copy string-fill! string-length string-ref string-set! string<=? string<? string=? string>=? string>? string? substring symbol->string symbol? #t tan transcript-off transcript-on truncate values vector vector->list vector-fill! vector-length vector-ref vector-set! with-input-from-file with-output-to-file write write-char zero?");var q=v("define let letrec let* lambda");function c(z,A,B){this.indent=z;this.type=A;this.prev=B}function s(B,z,A){B.indentStack=new c(z,A,B.indentStack)}function n(z){z.indentStack=z.indentStack.prev}var b=new RegExp(/^(?:[-+]i|[-+][01]+#*(?:\/[01]+#*)?i|[-+]?[01]+#*(?:\/[01]+#*)?@[-+]?[01]+#*(?:\/[01]+#*)?|[-+]?[01]+#*(?:\/[01]+#*)?[-+](?:[01]+#*(?:\/[01]+#*)?)?i|[-+]?[01]+#*(?:\/[01]+#*)?)(?=[()\s;"]|$)/i);var x=new RegExp(/^(?:[-+]i|[-+][0-7]+#*(?:\/[0-7]+#*)?i|[-+]?[0-7]+#*(?:\/[0-7]+#*)?@[-+]?[0-7]+#*(?:\/[0-7]+#*)?|[-+]?[0-7]+#*(?:\/[0-7]+#*)?[-+](?:[0-7]+#*(?:\/[0-7]+#*)?)?i|[-+]?[0-7]+#*(?:\/[0-7]+#*)?)(?=[()\s;"]|$)/i);var t=new RegExp(/^(?:[-+]i|[-+][\da-f]+#*(?:\/[\da-f]+#*)?i|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?@[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?[-+](?:[\da-f]+#*(?:\/[\da-f]+#*)?)?i|[-+]?[\da-f]+#*(?:\/[\da-f]+#*)?)(?=[()\s;"]|$)/i);var u=new RegExp(/^(?:[-+]i|[-+](?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)i|[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)@[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)|[-+]?(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)[-+](?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*)?i|(?:(?:(?:\d+#+\.?#*|\d+\.\d*#*|\.\d+#*|\d+)(?:[esfdl][-+]?\d+)?)|\d+#*\/\d+#*))(?=[()\s;"]|$)/i);function a(z){return z.match(b)}function k(z){return z.match(x)}function w(A,z){if(z===true){A.backUp(1)}return A.match(u)}function o(z){return z.match(t)}return{startState:function(){return{indentStack:null,indentation:0,mode:false,sExprComment:false}},token:function(L,B){if(B.indentStack==null&&L.sol()){B.indentation=L.indentation()}if(L.eatSpace()){return null}var H=null;switch(B.mode){case"string":var F,A=false;while((F=L.next())!=null){if(F=='"'&&!A){B.mode=false;break}A=!A&&F=="\\"}H=i;break;case"comment":var F,I=false;while((F=L.next())!=null){if(F=="#"&&I){B.mode=false;break}I=(F=="|")}H=r;break;case"s-expr-comment":B.mode=false;if(L.peek()=="("||L.peek()=="["){B.sExprComment=0}else{L.eatWhile(/[^/s]/);H=r;break}default:var z=L.next();if(z=='"'){B.mode="string";H=i}else{if(z=="'"){H=d}else{if(z=="#"){if(L.eat("|")){B.mode="comment";H=r}else{if(L.eat(/[tf]/i)){H=d}else{if(L.eat(";")){B.mode="s-expr-comment";H=r}else{var D=null,E=false,K=true;if(L.eat(/[ei]/i)){E=true}else{L.backUp(1)}if(L.match(/^#b/i)){D=a}else{if(L.match(/^#o/i)){D=k}else{if(L.match(/^#x/i)){D=o}else{if(L.match(/^#d/i)){D=w}else{if(L.match(/^[-+0-9.]/,false)){K=false;D=w}else{if(!E){L.eat("#")}}}}}}if(D!=null){if(K&&!E){L.match(/^#[ei]/i)}if(D(L)){H=l}}}}}}else{if(/^[-+0-9.]/.test(z)&&w(L,true)){H=l}else{if(z==";"){L.skipToEnd();H=r}else{if(z=="("||z=="["){var J="";var G=L.column(),C;while((C=L.eat(/[^\s\(\[\;\)\]]/))!=null){J+=C}if(J.length>0&&q.propertyIsEnumerable(J)){s(B,G+p,z)}else{L.eatSpace();if(L.eol()||L.peek()==";"){s(B,G+1,z)}else{s(B,G+L.current().length,z)}}L.backUp(L.current().length-1);if(typeof B.sExprComment=="number"){B.sExprComment++}H=g}else{if(z==")"||z=="]"){H=g;if(B.indentStack!=null&&B.indentStack.type==(z==")"?"(":"[")){n(B);if(typeof B.sExprComment=="number"){if(--B.sExprComment==0){H=r;B.sExprComment=false}}}}else{L.eatWhile(/[\w\$_\-!$%&*+\.\/:<=>?@\^~]/);if(e&&e.propertyIsEnumerable(L.current())){H=m}else{H="variable"}}}}}}}}}return(typeof B.sExprComment=="number")?r:H},indent:function(A,z){if(A.indentStack==null){return A.indentation}return A.indentStack.indent}}});CodeMirror.defineMIME("text/x-scheme","scheme");
